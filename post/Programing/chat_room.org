#+TITLE: 使用python写一个聊天室程序
#+DESCRIPTION: 对my-test仓库里的talking_local.py做的记录
#+DATE: <2025-11-22 六 11:00>
#+SETUPFILE: ../../setup.setup

* 简介
这是一个简单的python程序，被设计为不需要第三方库，可以在python3.8上正常运行。文
件链接[[/lib/python/talking_local.py][在这里]]。

** 特性
1) 具有命令行操纵界面
2) 拥有web ui
3) 不依赖第三方库
4) 针对私人的windows选择打开方式导致的工作目录漂移问题做了针对政策
5) 消息校验机制，不保护，仅提醒
6) 使用json存储聊天文件，终端且内置格式化命令，易于阅读和迁移聊天数据。

** Web UI界面布局
1) 页面最上方是导航栏，含有【消息列表】，【用户列表】，【搜索界面】，【关于】，【登录】和【注册】这几个页面。其中登录注册会在处于登录状态后变为用户名，指向用户的个人面板。
2) 消息列表上下含有分页选择器，在登录后页面最下面会有消息发送框。
3) 消息列表点击用户名可以跳转到用户列表，用户列表点击用户名可跳转到登录界面

* 说明/碎碎念
由于程序由最初的纯终端发展而来，所以终端和web端的处理逻辑基本分离，但数据基础基本共用。
程序以全局 =System= 类对象为数据共享基础，通过其操作用户、消息数据，终端和webui仅在登录用户上作区分。

由于终端限制，终端发送的消息仅能为多行。在linux下需要使用readline“标准库”增强linux下的input()功能，而在windows下经测试玄学的cmd已经够用了。
相对的，相较于网页，终端的用户登录时密码不是强制要求的。所以就算命令行注册的用户设置了空密码webui也是登录不进去的。

#+begin_quote
奇怪，我总觉得这种事情挺有成就感的应当记点什么东西纪念下，但是就是没想到要记什么东西，敲半天字反而觉得多余了。。。算了，不删了，留着吧。
#+end_quote
