<!DOCTYPE html>
<html lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="不要在意我的头像QwQ" />
<meta name="generator" content="Org Mode (third party program by python)" />
<title>Vim/Neovim使用笔记</title>
<script type="text/javascript" src="/theme/main.js" defer></script>
<link rel="stylesheet" type="text/css" href="/theme/main.css"/>
<link rel="shortcut icon" href="/img/icon.jpg"/>
<script>
window.MathJax = { tex: { ams: { multlineWidth: '85%' }, tags: 'ams', tagSide: 'right', tagIndent: '.8em' },
chtml: { scale: 1.0, displayAlign: 'center', displayIndent: '0em' },
svg: { scale: 1.0, displayAlign: 'center', displayIndent: '0em' },
output: { font: 'mathjax-modern', displayOverflow: 'overflow' } };
</script>
<script id="MathJax-script" async src="/theme/tex-mml-chtml.js"></script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="#"> UP </a>
 |
 <a accesskey="H" href="/"> HOME </a>
</div>
<div id="content" class="content">
<h1 class="title">Vim/Neovim使用笔记</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul><li><a href="#org-title-1">1. 基本操作</a><ul><li><a href="#org-title-1-1">1.1. 模式介绍</a></li><li><a href="#org-title-1-2">1.2. 正常模式</a></li><li><a href="#org-title-1-3">1.3. 命令模式</a></li><li><a href="#org-title-1-4">1.4. 插入模式</a></li><li><a href="#org-title-1-5">1.5. 替换模式</a></li><li><a href="#org-title-1-6">1.6. 可视模式</a></li></ul></li>
<li><a href="#org-title-2">2. 配置</a><ul><li><a href="#org-title-2-1">2.1. 配置目录结构</a></li><li><a href="#org-title-2-2">2.2. 配置语法</a><ul><li><a href="#org-title-2-2-1">2.2.1. command</a></li><li><a href="#org-title-2-2-2">2.2.2. noremap</a></li><li><a href="#org-title-2-2-3">2.2.3. inoremap</a></li></ul></li>
<li><a href="#org-title-2-3">2.3. 其他（十分有用的）功能</a></li><li><a href="#org-title-2-4">2.4. 没用的功能</a></li></ul></li>
<li><a href="#org-title-3">3. 个人配置</a></li></ul></div></div>
<div id="outline-container-1" class="outline-2">
<h2 id="org-title-1"><span class="section-number-2">1.</span> 基本操作</h2>
<div class="outline-text-2" id="text-1"><blockquote>
<p>Vim官方已经有了一份中文的教程了，只需要在终端执行</p><div class="org-src-container"><pre class="src src-bash">vimtutor
</pre></div><p>即可查看</p></blockquote></div><div id="outline-container-1-1" class="outline-3">
<h3 id="org-title-1-1"><span class="section-number-3">1.1.</span> 模式介绍</h3>
<div class="outline-text-3" id="text-1-1"><p>Vim分为多个模式，正常情况下Vim处于 <b>正常模式</b> 。在其他模式下按下 <b>ESC</b> 键可以返回正常模式。在正常模式下，可以通过各种按键进入其他模式或者执行什么文件的编辑功能。列表：</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><colgroup><col class="org-left" />
<col class="org-left" />
<col class="org-left" /></colgroup><thead><tr><th scope="col" class="org-left">名称</th><th scope="col" class="org-left">作用</th><th scope="col" class="org-left">进入方法</th></tr>
</thead><tbody>
<tr><td class="org-left">正常模式</td><td class="org-left">vim的默认模式，其他模式的入口</td><td class="org-left">按下ESC返回</td></tr><tr><td class="org-left">命令模式</td><td class="org-left">可以执行命令、保存文件、退出程序等操作</td><td class="org-left">在正常模式输入`:`进入，可以输入命令回车执行</td></tr><tr><td class="org-left">插入模式</td><td class="org-left">用于插入文本到文件中</td><td class="org-left">按下`i` `I` `a` `A` `s` `S` `c` `o` `O`等</td></tr><tr><td class="org-left">替换模式</td><td class="org-left">用于输入新的字符并将源字符替换</td><td class="org-left">按下`R`进入</td></tr><tr><td class="org-left">可视模式</td><td class="org-left">选择文本</td><td class="org-left">按下`v`进入</td></tr><tr><td class="org-left">可视 块模式</td><td class="org-left">选择文本，但是可以以方块状的模式剪贴</td><td class="org-left">按下`Ctrl-v`进入</td></tr><tr><td class="org-left">可视 行模式</td><td class="org-left">选择文本，但是直接选择整行（未发现有什么用）</td><td class="org-left">按下`Shift-v`进入</td></tr><tr><td class="org-left">选择模式</td><td class="org-left">选择文本，按下字符替换掉选择的字符，并进入插入模式</td><td class="org-left">按下`v`进入（任意）可视模式后再按下`Ctrl-g`进入选择模式，也有块、行模式的区分，基于进入的是什么可视模式进入</td></tr></table></div></div>
<div id="outline-container-1-2" class="outline-3">
<h3 id="org-title-1-2"><span class="section-number-3">1.2.</span> 正常模式</h3>
<div class="outline-text-3" id="text-1-2"><p>移动（官方教程原文）：</p><div class="org-src-container"><pre class="src src-text">      ^
      k              提示： h 的键位于左边，每次按下就会向左移动。
&lt; h       l &gt;               l 的键位于右边，每次按下就会向右移动。
      j                     j 键看起来很象一支尖端方向朝下的箭头。
      v
</pre></div><blockquote>
<p>此操作只能够在正常模式下使用</p></blockquote><p>操作表：</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><colgroup><col class="org-left" />
<col class="org-left" /></colgroup><thead><tr><th scope="col" class="org-left">按键</th><th scope="col" class="org-left">功能</th></tr>
</thead><tbody>
<tr><td class="org-left">a</td><td class="org-left">进入插入模式，插入光标向右移动一字符，在光标左边插入</td></tr><tr><td class="org-left">A</td><td class="org-left">进入插入模式，插入光标移动到行末，在光标左边插入</td></tr><tr><td class="org-left">cw</td><td class="org-left">移除一个字符从光标处到单词末（进入插入模式）</td></tr><tr><td class="org-left">ce</td><td class="org-left">移除字符到行末（进入插入模式）</td></tr><tr><td class="org-left">d[n]d</td><td class="org-left">移除n行，不指定n则为一行</td></tr><tr><td class="org-left">[n]dd</td><td class="org-left">移除n行，不指定n则为一行</td></tr><tr><td class="org-left">dw</td><td class="org-left">移除一个单词</td></tr><tr><td class="org-left">e</td><td class="org-left">移动到（下一个）词末</td></tr><tr><td class="org-left">[n]gg</td><td class="org-left">移动到第n行，不指定n则移动到文件首</td></tr><tr><td class="org-left">[n]G</td><td class="org-left">移动到第n行，不指定n则移动到文件末</td></tr><tr><td class="org-left">Ctrl-g</td><td class="org-left">显示文件信息</td></tr><tr><td class="org-left">[n]h</td><td class="org-left">向左移动n个字符，n默认（不指定时）为1</td></tr><tr><td class="org-left">i</td><td class="org-left">进入插入模式，插入光标不动，在光标左边插入</td></tr><tr><td class="org-left">I</td><td class="org-left">进入插入模式，插入光标移动到行首，在光标左边插入</td></tr><tr><td class="org-left">[n]j</td><td class="org-left">向下移动n行，n默认（不指定时）为1</td></tr><tr><td class="org-left">[n]k</td><td class="org-left">向上移动n行，n默认（不指定时）为1</td></tr><tr><td class="org-left">[n]l</td><td class="org-left">向右移动n个字符，n默认（不指定时）为1</td></tr><tr><td class="org-left">n</td><td class="org-left">搜索事的下一个搜索目标</td></tr><tr><td class="org-left">N</td><td class="org-left">搜索事的上一个搜索目标</td></tr><tr><td class="org-left">o</td><td class="org-left">向下新建一行并进入插入模式</td></tr><tr><td class="org-left">O</td><td class="org-left">向上新建一行并进入插入模式</td></tr><tr><td class="org-left">p</td><td class="org-left">在光标的右侧粘贴vim缓存的内容，可以通过`c` `d` `y`等方式向缓存区写入内容（独立于系统的剪贴板）</td></tr><tr><td class="org-left">P</td><td class="org-left">效果同`p`但是内容在光标左边粘贴内容</td></tr><tr><td class="org-left">r</td><td class="org-left">替换一个字符</td></tr><tr><td class="org-left">R</td><td class="org-left">进入替换模式，输入的字符将会替换文件原有内容</td></tr><tr><td class="org-left">Ctrl-r</td><td class="org-left">撤销*undo*操作（即撤销撤销操作）</td></tr><tr><td class="org-left">s</td><td class="org-left">基本等同于`c`</td></tr><tr><td class="org-left">u</td><td class="org-left">*undo*即撤销之前的操作</td></tr><tr><td class="org-left">v</td><td class="org-left">进入**可视模式**选择文本（选择好后可以键入 `:w filename` 将选择的内容保存在文件 <b>filename</b> 中）</td></tr><tr><td class="org-left">Ctrl-v</td><td class="org-left">进入**可视 块**模式选择文本，可以以方块状选择文本</td></tr><tr><td class="org-left">Shift-v</td><td class="org-left">进入**可视 行**模式选择文本，不过是直接一行行地选择文本</td></tr><tr><td class="org-left">[Ctrl/Shift]+v+Ctrl+g</td><td class="org-left">选择文本，按下字符替换掉选择的字符，并进入插入模式</td></tr><tr><td class="org-left">w</td><td class="org-left">移动到（下一个）词首，也可以作为worlds单位供其他动作使用</td></tr><tr><td class="org-left">[n]x</td><td class="org-left">移除光标所处位置的（n个字符，默认为1个）字符，但不会进入插入模式</td></tr><tr><td class="org-left">y</td><td class="org-left">复制选中的内容到缓存区</td></tr><tr><td class="org-left">yy</td><td class="org-left">复制光标所在行的内容</td></tr><tr><td class="org-left">/</td><td class="org-left">搜索文件内容，后接内容（从文件首向文件末排列搜索目标）</td></tr><tr><td class="org-left">?</td><td class="org-left">搜索文件内容时反过来搜索（从文件末向文件首排列搜索目标）</td></tr><tr><td class="org-left">%</td><td class="org-left">移动光标到符合匹配的一对字符（括号类、引号类）的另一个，如由开括号跳转到收括号</td></tr><tr><td class="org-left">$</td><td class="org-left">跳转到行末</td></tr><tr><td class="org-left">^</td><td class="org-left">跳转到行首</td></tr><tr><td class="org-left">0</td><td class="org-left">跳转到行首</td></tr><tr><td class="org-left">#</td><td class="org-left">在文件中查找光标所在位置的单词</td></tr><tr><td class="org-left">*</td><td class="org-left">同 <b>#</b></td></tr><tr><td class="org-left">F1</td><td class="org-left">打开一个Vim的帮助窗口（教程纯英文）</td></tr><tr><td class="org-left">[n]Ctrl+a</td><td class="org-left">在遇到数字时会自动将数字自增n（不指定时n默认为1）</td></tr><tr><td class="org-left">[n]Ctrl+x</td><td class="org-left">在遇到数字时会自动将数字自减n（不指定时n默认为1）</td></tr></table></div></div>
<div id="outline-container-1-3" class="outline-3">
<h3 id="org-title-1-3"><span class="section-number-3">1.3.</span> 命令模式</h3>
<div class="outline-text-3" id="text-1-3"><p>较为常用的命令表：</p><blockquote>
<p>在命令后添加 <b>!</b> 意思为强制执行</p></blockquote>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><colgroup><col class="org-left" />
<col class="org-left" /></colgroup><thead><tr><th scope="col" class="org-left">命令</th><th scope="col" class="org-left">作用</th></tr>
</thead><tbody>
<tr><td class="org-left">:w</td><td class="org-left">保存</td></tr><tr><td class="org-left">:w!</td><td class="org-left">强制保存</td></tr><tr><td class="org-left">:q</td><td class="org-left">退出</td></tr><tr><td class="org-left">:q!</td><td class="org-left">强制（不保存）退出</td></tr><tr><td class="org-left">:wq</td><td class="org-left">保存并退出</td></tr><tr><td class="org-left">:a</td><td class="org-left">在文件的末尾追加回车后输入的字符，按下 <b>Esc</b> 返回</td></tr><tr><td class="org-left">:r filename</td><td class="org-left">读取文件 <i>filename</i> 的内容并追加到文件中</td></tr><tr><td class="org-left">: s/a/b/g</td><td class="org-left">替换光标所在行中的所有 <b>a</b> 为 <b>b</b></td></tr><tr><td class="org-left">:%s/a/b/g</td><td class="org-left">替换文件中的所有 <b>a</b> 为 <b>b</b></td></tr><tr><td class="org-left">:%s/a/b</td><td class="org-left">替换文件中的每行的第一个 <b>a</b> 为 <b>b</b></td></tr><tr><td class="org-left">:#,#s/a/b</td><td class="org-left">替换文件中第 <b>#</b> 行到第 <b>#</b> 行的每行的第一个 <b>a</b> 为 <b>b</b></td></tr><tr><td class="org-left">:#,#s/a/b/g</td><td class="org-left">替换文件中第 <b>#</b> 行到第 <b>#</b> 行的所有 <b>a</b> 为 <b>b</b></td></tr><tr><td class="org-left">:sp</td><td class="org-left">横向分割出一个新窗口（并打开命令后面指定的文件）</td></tr><tr><td class="org-left">:vsp</td><td class="org-left">纵向分割出一个新窗口（并打开命令后面指定的文件）</td></tr><tr><td class="org-left">:tabnew</td><td class="org-left">新建标签页（并打开命令后面指定的文件）</td></tr><tr><td class="org-left">:tabNext</td><td class="org-left">下一个标签页</td></tr><tr><td class="org-left">:set [setting]</td><td class="org-left">设置编辑器设置的setting项，如 <code>set wrap</code> 设置打开文件自动折行</td></tr><tr><td class="org-left">:setfiletype type</td><td class="org-left">设置文件类型为指定的 <b>type</b></td></tr><tr><td class="org-left">:!command</td><td class="org-left">调用shell执行外部命令 <i>command</i></td></tr><tr><td class="org-left">:bn</td><td class="org-left">切换窗口到下一个buffer（Vim打开文件若只关闭窗口文件还会以Buffer形式在后台打开</td></tr></table></div></div>
<div id="outline-container-1-4" class="outline-3">
<h3 id="org-title-1-4"><span class="section-number-3">1.4.</span> 插入模式</h3>
<div class="outline-text-3" id="text-1-4"><p>只不过是简单地输入文本并插入到文件中罢了</p></div></div>
<div id="outline-container-1-5" class="outline-3">
<h3 id="org-title-1-5"><span class="section-number-3">1.5.</span> 替换模式</h3>
<div class="outline-text-3" id="text-1-5"><p>同插入模式，只不过内容会被直接替换</p></div></div>
<div id="outline-container-1-6" class="outline-3">
<h3 id="org-title-1-6"><span class="section-number-3">1.6.</span> 可视模式</h3>
<div class="outline-text-3" id="text-1-6"><p>从原光标处起移动光标选定区域，选定的内容可以直接输入 <code>y</code> 复制，也可以直接输入 <code>:w</code> 保存内容到指定的文件中（实际上显示的真正命令应该为 <code>:'\&lt;,'\&gt;w</code> ） 
<img src="./2022-07-08_01/2022-07-08_01-01.png" alt="2022-07-08_01-01.png" />
</p></div></div></div>
<div id="outline-container-2" class="outline-2">
<h2 id="org-title-2"><span class="section-number-2">2.</span> 配置</h2>
<div class="outline-text-2" id="text-2"><ul class="org-ul">
<li>vim<br/> Vim的主配置文件可以是 <code>~/.vimrc</code> 也可以是 <code>~/.vim/vimrc</code> 。
</li>
<li>neovim<br/> Neovim的主配置文件是 <code>~/.config/nvim/init.vim</code> 。
</li></ul>
</div><div id="outline-container-2-1" class="outline-3">
<h3 id="org-title-2-1"><span class="section-number-3">2.1.</span> 配置目录结构</h3>
<div class="outline-text-3" id="text-2-1"><p>Vim/Neovim的配置文件夹结构基本一致。基本结构如下</p><div class="org-src-container"><pre class="src src-text">$ tree2 -L 4 .config/nvim
.config/nvim
├── init.vim
├── pack
│   └── github
│       ├── opt
│       └── start
├── plugin
└── undo

18 directories, 14 files
</pre></div><p>其中pack文件夹下新建一个任意名字的文件夹，里面新建 <i>opt</i> 与 <i>start</i> 两个文件夹。 <code>pack/dir/start</code> 存放vim启动就要加载的插件（仓库），而 <code>pack/dir/opt</code> 存放的是 vim启动不自动加载的插件</p><p>undo文件夹是个人建立的，用于使用vim功能 <b>撤销（修改）记录永久化</b> ，即在退出vim 后仍然保存着修改的历史记录</p><p>plugin文件夹也用于存放配置文件，名称格式为 <code>任意前缀.vim</code> ，可以将配置文件分块存储</p></div></div>
<div id="outline-container-2-2" class="outline-3">
<h3 id="org-title-2-2"><span class="section-number-3">2.2.</span> 配置语法</h3>
<div class="outline-text-3" id="text-2-2"></div><div id="outline-container-2-2-1" class="outline-4">
<h4 id="org-title-2-2-1"><span class="section-number-4">2.2.1.</span> command</h4>
<div class="outline-text-4" id="text-2-2-1"><p>command的用法：</p><div class="org-src-container"><pre class="src src-vimrc">command <span class="nb">mp</span> MarkdownPreview
</pre></div><p>在本例子中，mp被映射为 <code>MarkdownPreview</code> ，所以在普通模式中输入 <code>:</code> 后再输入 <code>mp</code> 就能够实现与输入 <code>MarkdownPreview</code> 同样的效果</p></div></div>
<div id="outline-container-2-2-2" class="outline-4">
<h4 id="org-title-2-2-2"><span class="section-number-4">2.2.2.</span> noremap</h4>
<div class="outline-text-4" id="text-2-2-2"><p>noremap的用法（狭义）：</p><div class="org-src-container"><pre class="src src-vimrc"><span class="nb">noremap</span> z <span class="p">&lt;</span><span class="nb">Cmd</span><span class="p">&gt;</span><span class="k">bn</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
</pre></div><p>在本例子中，倘若vim处于正常模式，键入 <code>z</code> 则会以命令行模式执行 <code>bn</code> 命令</p><p>其实它还可以这么表达：</p><div class="org-src-container"><pre class="src src-vimrc"><span class="nb">noremap</span> z :<span class="k">bn</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
</pre></div><p>很明显，noremap的键位映射就是在按下那个按键后模拟用户的输入执行什么操作，即进入命令行模式输入 <code>bn</code> 并回车，而不能够直接表达的字符则用 <code>&lt;&gt;</code> 表示</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><colgroup><col class="org-left" />
<col class="org-left" /></colgroup><thead><tr><th scope="col" class="org-left">表示符号</th><th scope="col" class="org-left">实际含义</th></tr>
</thead><tbody>
<tr><td class="org-left">&lt;C-&gt;</td><td class="org-left">Ctrl + 按键</td></tr><tr><td class="org-left">&lt;M-&gt;</td><td class="org-left">Alt + 按键</td></tr><tr><td class="org-left">&lt;Esc&gt;</td><td class="org-left">Esc键</td></tr><tr><td class="org-left">&lt;SPACE&gt;</td><td class="org-left">回车</td></tr><tr><td class="org-left">&lt;TAB&gt;</td><td class="org-left">Tab键</td></tr><tr><td class="org-left">&lt;Fn&gt;</td><td class="org-left">Fn键，n为数字</td></tr></table></div></div>
<div id="outline-container-2-2-3" class="outline-4">
<h4 id="org-title-2-2-3"><span class="section-number-4">2.2.3.</span> inoremap</h4>
<div class="outline-text-4" id="text-2-2-3"><p>inoremap的用法同noremap，只不过使用的模式是插入模式。也就是说插入模式下也可以有快捷键。如果想要输入原本的字符，就只需要等待一两秒即可。也就是说我们可以使用以下代码实现简单的括号补全：</p><div class="org-src-container"><pre class="src src-vimrc"><span class="nb">inoremap</span> <span class="s1">&#39; &#39;</span>&#39;<span class="p">&lt;</span>ESC<span class="p">&gt;</span><span class="k">i</span>
<span class="nb">inoremap</span> <span class="s2">&quot; &quot;</span>&quot;<span class="p">&lt;</span>ESC<span class="p">&gt;</span><span class="k">i</span>
<span class="nb">inoremap</span> <span class="p">(</span> <span class="p">()&lt;</span>ESC<span class="p">&gt;</span><span class="k">i</span>
<span class="nb">inoremap</span> [ []<span class="p">&lt;</span>ESC<span class="p">&gt;</span><span class="k">i</span>
<span class="nb">inoremap</span> { {<span class="p">&lt;</span>CR<span class="p">&gt;</span>}<span class="p">&lt;</span>ESC<span class="p">&gt;</span>O
<span class="nb">inoremap</span> <span class="p">&lt;</span> <span class="p">&lt;&gt;&lt;</span>ESC<span class="p">&gt;</span><span class="k">i</span>
<span class="c">&quot;inoremap 「 「」&lt;ESC&gt;i</span>
<span class="nb">inoremap</span> （ （）<span class="p">&lt;</span>ESC<span class="p">&gt;</span><span class="k">i</span>
</pre></div></div></div></div>
<div id="outline-container-2-3" class="outline-3">
<h3 id="org-title-2-3"><span class="section-number-3">2.3.</span> 其他（十分有用的）功能</h3>
<div class="outline-text-3" id="text-2-3"><p>实现文件退出后保存浏览进度：</p><div class="org-src-container"><pre class="src src-vimrc"><span class="k">au</span> <span class="nb">BufReadPost</span> * <span class="k">if</span> line<span class="p">(</span><span class="s2">&quot;&#39;\&quot;&quot;</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">1</span> &amp;&amp; line<span class="p">(</span><span class="s2">&quot;&#39;\&quot;&quot;</span><span class="p">)</span> <span class="p">&lt;=</span> line<span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">)</span> <span class="p">|</span> exe <span class="s2">&quot;normal! g&#39;\&quot;&quot;</span> <span class="p">|</span> <span class="k">endif</span>
<span class="c">&quot; 记忆文件上次打开位置</span>
</pre></div><p>实现fcitx输入法在退出插入模式时自动切换英文：</p><div class="org-src-container"><pre class="src src-vimrc"><span class="k">let</span> s:fcitx_cmd <span class="p">=</span> executable<span class="p">(</span><span class="s2">&quot;fcitx5-remote&quot;</span><span class="p">)</span> ? <span class="s2">&quot;fcitx5-remote&quot;</span> : <span class="s2">&quot;fcitx-remote&quot;</span>
autocmd <span class="nb">InsertLeave</span> * <span class="k">let</span> <span class="k">b</span>:fcitx <span class="p">=</span> system<span class="p">(</span>s:fcitx_cmd<span class="p">)</span> <span class="p">|</span> <span class="k">call</span> system<span class="p">(</span>s:fcitx_cmd.<span class="s1">&#39; -c&#39;</span><span class="p">)</span>
autocmd <span class="nb">InsertEnter</span> * <span class="k">if</span> exists<span class="p">(</span><span class="s1">&#39;b:fcitx&#39;</span><span class="p">)</span> &amp;&amp; <span class="k">b</span>:fcitx <span class="p">==</span> <span class="m">2</span> <span class="p">|</span> <span class="k">call</span> system<span class="p">(</span>s:fcitx_cmd.<span class="s1">&#39; -o&#39;</span><span class="p">)</span> <span class="p">|</span> <span class="k">endif</span>
<span class="c">&quot; 退出插入模式时自动切换到英文</span>
</pre></div><p>实现撤销记录持久化：</p><div class="org-src-container"><pre class="src src-vimrc"><span class="k">set</span> <span class="nb">undofile</span>                           <span class="c">&quot; 保存Undo文件</span>
<span class="k">let</span> &amp;<span class="nb">undodir</span> <span class="p">=</span> fnamemodify<span class="p">(</span>$MYVIMRC<span class="p">,</span> <span class="s2">&quot;:p:h&quot;</span><span class="p">)</span>.<span class="s2">&quot;/undo&quot;</span>
</pre></div><blockquote>
<p>2025.08.01更新：更新了最新的设置，使其能够根据vim的配置目录更改undo文件目录</p></blockquote></div></div>
<div id="outline-container-2-4" class="outline-3">
<h3 id="org-title-2-4"><span class="section-number-3">2.4.</span> 没用的功能</h3>
<div class="outline-text-3" id="text-2-4"><p>实现 <code>[涂鸦]</code> 窗口效果（没有对应的文件）：</p><div class="org-src-container"><pre class="src src-vimrc"><span class="k">setlocal</span> <span class="nb">buftype</span><span class="p">=</span>nofile
</pre></div></div></div></div>
<div id="outline-container-3" class="outline-2">
<h2 id="org-title-3"><span class="section-number-2">3.</span> 个人配置</h2>
<div class="outline-text-2" id="text-3"><p>克隆下面这个仓库到 <i>$HOME/.config/nvim/</i> ：</p><div class="org-src-container"><pre class="src src-text">https://gitee.com/youlanjie/vimrc.git
</pre></div></div></div></div>
<div id="postamble" class="status"><p class="date">时间: 2022-07-08 22:57</p>
<p class="author">作者: 不要在意我的头像QwQ</p>
<p class="date">生成于: 2025-09-24 四 08:38:25</p>
</div>
</body>
</html>