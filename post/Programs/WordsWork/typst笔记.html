<!DOCTYPE html>
<html lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="不要在意我的头像QwQ" />
<meta name="description" content="很遗憾刚努力学了几个月的latex发现有了可替代品，这帮写rust的真的是太狠了" />
<meta name="generator" content="Org Mode (third party program by python)" />
<title>typst笔记</title>
<script type="text/javascript" src="/theme/main.js" defer></script>
<link rel="stylesheet" type="text/css" href="/theme/main.css"/>
<link rel="shortcut icon" href="/img/icon.jpg"/>
<script>
window.MathJax = { tex: { ams: { multlineWidth: '85%' }, tags: 'ams', tagSide: 'right', tagIndent: '.8em' },
chtml: { scale: 1.0, displayAlign: 'center', displayIndent: '0em' },
svg: { scale: 1.0, displayAlign: 'center', displayIndent: '0em' },
output: { font: 'mathjax-modern', displayOverflow: 'overflow' } };
</script>
<script id="MathJax-script" async src="/theme/tex-mml-chtml.js"></script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="#"> UP </a>
 |
 <a accesskey="H" href="/"> HOME </a>
</div>
<div id="content" class="content">
<h1 class="title">typst笔记</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul><li><a href="#org-title-1">1. 基本安装</a></li><li><a href="#org-title-2">2. 基本语法</a><ul><li><a href="#org-title-2-1">2.1. 文档结构与基本文本</a></li><li><a href="#org-title-2-2">2.2. 文本格式化</a></li><li><a href="#org-title-2-3">2.3. 标题与章节</a></li><li><a href="#org-title-2-4">2.4. 列表</a></li><li><a href="#org-title-2-5">2.5. 链接与引用</a></li><li><a href="#org-title-2-6">2.6. 数学公式</a></li><li><a href="#org-title-2-7">2.7. 代码块</a></li><li><a href="#org-title-2-8">2.8. 图片与表格</a></li><li><a href="#org-title-2-9">2.9. 变量与函数</a></li><li><a href="#org-title-2-10">2.10. 注释</a></li><li><a href="#org-title-2-11">2.11. 常用内置函数</a></li><li><a href="#org-title-2-12">2.12. 总结</a></li><li><a href="#org-title-2-13">2.13. 转移符号</a><ul><li><a href="#org-title-2-13-1">2.13.1. 常见转义示例</a></li><li><a href="#org-title-2-13-2">2.13.2. 示例代码</a></li><li><a href="#org-title-2-13-3">2.13.3. 上下文注意事项</a></li><li><a href="#org-title-2-13-4">2.13.4. 其他方式</a></li></ul></li></ul></li>
<li><a href="#org-title-3">3. 像ctex一样工作</a><ul><li><a href="#org-title-3-1">3.1. 默认字体问题</a></li><li><a href="#org-title-3-2">3.2. 段落缩进问题</a></li><li><a href="#org-title-3-3">3.3. 标题(heading)与目录</a></li><li><a href="#org-title-3-4">3.4. 引用缩进</a></li></ul></li>
<li><a href="#org-title-4">4. 其他功能</a><ul><li><a href="#org-title-4-1">4.1. 假文</a></li></ul></li>
<li><a href="#org-title-5">5. 吐槽</a></li><li><a href="#org-title-6">6. Reference</a></li></ul></div></div>
<blockquote>
<p>你最好有点latex基础</p></blockquote><div id="outline-container-1" class="outline-2">
<h2 id="org-title-1"><span class="section-number-2">1.</span> 基本安装</h2>
<div class="outline-text-2" id="text-1"><p>比latex统一（没有历史遗留问题），对于archlinux、Termux，直接运行：</p><div class="org-src-container"><pre class="src src-bash">pacman<span class="w"> </span>-S<span class="w"> </span>typst
<span class="c1"># 如果还需要nvim的lsp服务需要安装：</span>
<span class="c1"># pacman -S tinymist</span>
<span class="c1"># 对应的Coc.nvim配置::coc-settings.json</span>
<span class="c1"># {</span>
<span class="c1">#   &quot;languageserver&quot;: {</span>
<span class="c1">#     &quot;tinymist&quot;: {</span>
<span class="c1">#       &quot;command&quot;: &quot;tinymist&quot;,</span>
<span class="c1">#       &quot;filetypes&quot;: [&quot;typst&quot;],</span>
<span class="c1">#       &quot;rootPatterns&quot;: [&quot;*.typ&quot;, &quot;.git/&quot;],</span>
<span class="c1">#       &quot;settings&quot;: {}</span>
<span class="c1">#     }</span>
<span class="c1">#   }</span>
<span class="c1"># }</span>
</pre></div><p>其安装包很小（因为不像texlive那样默认把所有的pkg甚至字体都打包在一起），安装起来很快，不过也会因此造成一些非一致性(问题不大)</p></div></div>
<div id="outline-container-2" class="outline-2">
<h2 id="org-title-2"><span class="section-number-2">2.</span> 基本语法</h2>
<div class="outline-text-2" id="text-2"><blockquote>
<p>偷懒直接用ai的结果：</p></blockquote><p>Typst 是一种现代化的标记语言，旨在替代 LaTeX 和 Markdown，兼具强大的排版能力和简洁的语法。它使用命令（以 `#` 开头）和标记混合的方式编写文档，实时预览，并直接输出 PDF。下面介绍 Typst 的基本语法。</p></div><div id="outline-container-2-1" class="outline-3">
<h3 id="org-title-2-1"><span class="section-number-3">2.1.</span> 文档结构与基本文本</h3>
<div class="outline-text-3" id="text-2-1"><p>Typst 文档由普通文本和命令组成。段落之间用空行分隔。</p><div class="org-src-container"><pre class="src src-typst">这是第一段。
这是第二段。
</pre></div><p>页面尺寸、字体等可通过 `#set` 全局设置：</p><div class="org-src-container"><pre class="src src-typst"><span class="kd">#set</span><span class="w"> </span><span class="nf">page</span><span class="p">(</span><span class="nv">paper</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;a4&quot;</span><span class="p">)</span>
<span class="kd">#set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Times New Roman&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">size</span><span class="p">:</span><span class="w"> </span><span class="m">11</span><span class="kr">pt</span><span class="p">)</span>
</pre></div></div></div>
<div id="outline-container-2-2" class="outline-3">
<h3 id="org-title-2-2"><span class="section-number-3">2.2.</span> 文本格式化</h3>
<div class="outline-text-3" id="text-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><colgroup><col class="org-left" />
<col class="org-left" />
<col class="org-left" /></colgroup><thead><tr><th scope="col" class="org-left">效果</th><th scope="col" class="org-left">语法</th><th scope="col" class="org-left">示例输出</th></tr>
</thead><tbody>
<tr><td class="org-left"><b>粗体</b></td><td class="org-left"><code>*星号包裹*</code></td><td class="org-left"><b>*粗体</b>*</td></tr><tr><td class="org-left"><i>斜体</i></td><td class="org-left"><code>_下划线包裹_</code></td><td class="org-left"><b>斜体</b></td></tr><tr><td class="org-left"><code>等宽</code></td><td class="org-left"><code>`反引号`</code></td><td class="org-left">`等宽`</td></tr><tr><td class="org-left"><span class="underline">下划线</span></td><td class="org-left"><code>#underline[内容]</code></td><td class="org-left">下划线</td></tr><tr><td class="org-left">上标/下标</td><td class="org-left"><code>x^2^</code> 或 <code>x_2_</code></td><td class="org-left">x² 或 x₂</td></tr><tr><td class="org-left">颜色</td><td class="org-left"><code>#text(fill: red)[红色文字]</code></td><td class="org-left">&nbsp;</td></tr><tr><td class="org-left">字体大小</td><td class="org-left"><code>#text(size: 20pt)[大号文字]</code></td><td class="org-left">&nbsp;</td></tr></table></div></div>
<div id="outline-container-2-3" class="outline-3">
<h3 id="org-title-2-3"><span class="section-number-3">2.3.</span> 标题与章节</h3>
<div class="outline-text-3" id="text-2-3"><p>使用 <code>=</code> 表示标题， <code>=</code> 越多层级越深：</p><div class="org-src-container"><pre class="src src-typst"><span class="gh">= 一级标题</span>
<span class="gh">== 二级标题</span>
<span class="gh">=== 三级标题</span>
</pre></div><p>也可带编号（默认自动编号）：</p><div class="org-src-container"><pre class="src src-typst"><span class="gh">= 引言</span>
<span class="gh">== 背景</span>
</pre></div><p>若需手动编号，使用 <code>#heading</code> 函数。</p></div></div>
<div id="outline-container-2-4" class="outline-3">
<h3 id="org-title-2-4"><span class="section-number-3">2.4.</span> 列表</h3>
<div class="outline-text-3" id="text-2-4"><p><b>无序列表</b> ：用 <code>-</code> 或 <code>+</code> 开头</p><div class="org-src-container"><pre class="src src-typst"><span class="p">-</span><span class="w"> </span>苹果
<span class="p">-</span><span class="w"> </span>香蕉
<span class="w">  </span><span class="p">-</span><span class="w"> </span>子项
<span class="p">-</span><span class="w"> </span>橙子
</pre></div><p><b>有序列表</b> ：用 <code>+</code> 或数字加点号</p><div class="org-src-container"><pre class="src src-typst"><span class="p">+</span><span class="w"> </span>第一步
<span class="p">+</span><span class="w"> </span>第二步
<span class="w">  </span><span class="p">1.</span><span class="w"> </span>子步骤
<span class="w">  </span><span class="p">2.</span><span class="w"> </span>继续
<span class="p">+</span><span class="w"> </span>第三步
</pre></div><p><b>描述列表</b> ：用 <code>/ 术语: 描述</code></p><div class="org-src-container"><pre class="src src-typst"><span class="p">/</span><span class="w"> </span><span class="nv">苹果</span><span class="p">:</span><span class="w"> </span>一种水果
<span class="p">/</span><span class="w"> </span><span class="nv">香蕉</span><span class="p">:</span><span class="w"> </span>另一种水果
</pre></div></div></div>
<div id="outline-container-2-5" class="outline-3">
<h3 id="org-title-2-5"><span class="section-number-3">2.5.</span> 链接与引用</h3>
<div class="outline-text-3" id="text-2-5"><div class="org-src-container"><pre class="src src-typst">外部链接：<span class="ge">https://typst.app</span>
带文本链接：<span class="nf">#link</span><span class="p">(</span><span class="s2">&quot;https://typst.app&quot;</span><span class="p">)[</span>Typst官网<span class="p">]</span>
内部引用：<span class="err">@</span>目标标签
</pre></div><p>定义标签：</p><div class="org-src-container"><pre class="src src-typst"><span class="nf">#heading</span><span class="p">(</span><span class="s2">&quot;引言&quot;</span><span class="p">)</span><span class="w"> </span><span class="nl">&lt;intro&gt;</span>
详见<span class="w"> </span><span class="nl">@intro</span>。
</pre></div></div></div>
<div id="outline-container-2-6" class="outline-3">
<h3 id="org-title-2-6"><span class="section-number-3">2.6.</span> 数学公式</h3>
<div class="outline-text-3" id="text-2-6"><p>行内公式用 <code>$...$</code> ，独立公式用 <code>$ ... $</code> （前后空行）：</p><div class="org-src-container"><pre class="src src-typst">勾股定理：<span class="p">$</span><span class="nv">a</span><span class="p">^</span><span class="m">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">b</span><span class="p">^</span><span class="m">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">c</span><span class="p">^</span><span class="m">2</span><span class="p">$</span>。

<span class="p">$$</span>
sum<span class="err">_</span>(k=1)^n<span class="w"> </span>k<span class="w"> </span>=<span class="w"> </span>(n(n+1))/2
<span class="p">$$</span>
</pre></div><p>支持 LaTeX 风格语法，但更简洁（如 <code>sum_(k=1)^n</code> 而非 <code>\sum_{k=1}^{n}</code> ）。</p></div></div>
<div id="outline-container-2-7" class="outline-3">
<h3 id="org-title-2-7"><span class="section-number-3">2.7.</span> 代码块</h3>
<div class="outline-text-3" id="text-2-7"><p>用三个反引号（可指定语言）：</p><div class="org-src-container"><pre class="src src-typst"><span class="sb">```python</span>
<span class="sb">def hello():</span>
<span class="sb">    print(&quot;Hello&quot;)</span>
<span class="sb">```</span>
</pre></div><p>行内代码用 <code>`...`</code> 。</p></div></div>
<div id="outline-container-2-8" class="outline-3">
<h3 id="org-title-2-8"><span class="section-number-3">2.8.</span> 图片与表格</h3>
<div class="outline-text-3" id="text-2-8"><p><b>图片</b> ：</p><div class="org-src-container"><pre class="src src-typst"><span class="nf">#image</span><span class="p">(</span><span class="s2">&quot;photo.jpg&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">width</span><span class="p">:</span><span class="w"> </span><span class="m">70</span><span class="kr">%</span><span class="p">)</span>
</pre></div><p><b>表格</b> ：使用 <code>#table</code> 函数或 Markdown 风格表格（需引入包）：</p><div class="org-src-container"><pre class="src src-typst"><span class="nf">#table</span><span class="p">(</span>
<span class="w">  </span><span class="nv">columns</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">  </span><span class="p">[</span>姓名<span class="p">],</span><span class="w"> </span><span class="p">[</span>年龄<span class="p">],</span>
<span class="w">  </span><span class="p">[</span>张三<span class="p">],</span><span class="w"> </span><span class="p">[</span>25<span class="p">],</span>
<span class="w">  </span><span class="p">[</span>李四<span class="p">],</span><span class="w"> </span><span class="p">[</span>30<span class="p">],</span>
<span class="p">)</span>
</pre></div><p>或使用简易表格语法（需 <code>#import &quot;@preview/tablex:0.0.1&quot;</code> 等包）。</p></div></div>
<div id="outline-container-2-9" class="outline-3">
<h3 id="org-title-2-9"><span class="section-number-3">2.9.</span> 变量与函数</h3>
<div class="outline-text-3" id="text-2-9"><p>Typst 支持脚本化编程，类似 LaTeX 的宏但更强大：</p><div class="org-src-container"><pre class="src src-typst"><span class="kd">#let</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Typst&quot;</span>
欢迎使用<span class="w"> </span><span class="nv">#name</span>。

<span class="kd">#let</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="nv">name</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">#Hello</span><span class="w"> </span><span class="nv">#name</span><span class="p">]</span>
<span class="nf">#greet</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
</pre></div></div></div>
<div id="outline-container-2-10" class="outline-3">
<h3 id="org-title-2-10"><span class="section-number-3">2.10.</span> 注释</h3>
<div class="outline-text-3" id="text-2-10"><p>单行注释 <code>//</code> ，多行注释 <code>/* */</code> ：</p><div class="org-src-container"><pre class="src src-typst"><span class="c1">// 这是单行注释</span>
这是正文。
<span class="cm">/*</span>
<span class="cm">多行注释</span>
<span class="cm">可以跨行</span>
<span class="cm">*/</span>
</pre></div></div></div>
<div id="outline-container-2-11" class="outline-3">
<h3 id="org-title-2-11"><span class="section-number-3">2.11.</span> 常用内置函数</h3>
<div class="outline-text-3" id="text-2-11"><ul class="org-ul">
<li><code>#align(center)[居中文字]</code>
</li>
<li><code>#box[带边框的内容]</code>
</li>
<li><code>#enum</code> 自定义列表  
</li>
<li><code>#figure</code> 为图表添加标题和编号  
</li>
<li><p><code>#bibliography(&quot;refs.bib&quot;)</code> 引用文献</p>
</li></ul>
</div></div>
<div id="outline-container-2-12" class="outline-3">
<h3 id="org-title-2-12"><span class="section-number-3">2.12.</span> 总结</h3>
<div class="outline-text-3" id="text-2-12"><p>Typst 的语法混合了 Markdown 的简洁和 LaTeX 的强大，通过 <code>#</code> 调用函数，无需繁琐的反斜杠和括号。更多细节可查阅 <a href="https://typst.app/docs/">官方文档</a>。掌握以上基本语法，即可开始编写专业文档。</p></div></div>
<div id="outline-container-2-13" class="outline-3">
<h3 id="org-title-2-13"><span class="section-number-3">2.13.</span> 转移符号</h3>
<div class="outline-text-3" id="text-2-13"><p>在 Typst 中，转义字符主要通过 反斜杠 <code>\</code> 实现。当你需要输入原本具有特殊含义的符号（如 <code>#=、=$=、=_=、</code>*= 等）时，可以在其前面加上反斜杠，从而将其作为普通文本输出。</p></div><div id="outline-container-2-13-1" class="outline-4">
<h4 id="org-title-2-13-1"><span class="section-number-4">2.13.1.</span> 常见转义示例</h4>
<div class="outline-text-4" id="text-2-13-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><colgroup><col class="org-left" />
<col class="org-left" />
<col class="org-left" /></colgroup><thead><tr><th scope="col" class="org-left">特殊字符</th><th scope="col" class="org-left">转义写法</th><th scope="col" class="org-left">说明</th></tr>
</thead><tbody>
<tr><td class="org-left"><code>#</code></td><td class="org-left"><code>\#</code></td><td class="org-left">命令标记</td></tr><tr><td class="org-left"><code>$</code></td><td class="org-left"><code>\$</code></td><td class="org-left">数学公式分隔符</td></tr><tr><td class="org-left"><code>_</code></td><td class="org-left"><code>\_</code></td><td class="org-left">斜体标记（也可用于下标）</td></tr><tr><td class="org-left"><code>*</code></td><td class="org-left"><code>\*</code></td><td class="org-left">粗体标记</td></tr><tr><td class="org-left"><code>[</code></td><td class="org-left"><code>\[</code></td><td class="org-left">内容块起始</td></tr><tr><td class="org-left"><code>]</code></td><td class="org-left"><code>\]</code></td><td class="org-left">内容块结束</td></tr><tr><td class="org-left"><code>{</code></td><td class="org-left"><code>\{</code></td><td class="org-left">代码块或字典起始</td></tr><tr><td class="org-left"><code>}</code></td><td class="org-left"><code>\}</code></td><td class="org-left">代码块或字典结束</td></tr><tr><td class="org-left"><code>=</code></td><td class="org-left"><code>\=</code></td><td class="org-left">标题标记</td></tr><tr><td class="org-left"><code>+</code></td><td class="org-left"><code>\+</code></td><td class="org-left">有序列表标记</td></tr><tr><td class="org-left"><code>-</code></td><td class="org-left"><code>\-</code></td><td class="org-left">无序列表标记</td></tr><tr><td class="org-left"><code>/</code></td><td class="org-left"><code>\/</code></td><td class="org-left">描述列表标记</td></tr><tr><td class="org-left"><code>=</code></td><td class="org-left"><code>\=</code></td><td class="org-left">行内代码标记</td></tr><tr><td class="org-left"><code>&quot;</code></td><td class="org-left"><code>\&quot;</code></td><td class="org-left">字符串引号（必要时）</td></tr><tr><td class="org-left"><code>~</code></td><td class="org-left"><code>\~</code></td><td class="org-left">非换行空格</td></tr><tr><td class="org-left"><code>\</code></td><td class="org-left"><code>\\</code></td><td class="org-left">反斜杠本身</td></tr></table></div></div>
<div id="outline-container-2-13-2" class="outline-4">
<h4 id="org-title-2-13-2"><span class="section-number-4">2.13.2.</span> 示例代码</h4>
<div class="outline-text-4" id="text-2-13-2"><div class="org-src-container"><pre class="src src-typst"><span class="gh">= 转义示例</span>

在文档中需要显示<span class="w"> </span><span class="err">#</span><span class="w"> </span>符号，可以写：\#标签。

数学公式中的<span class="w"> </span><span class="p">$</span><span class="w"> </span><span class="err">符号：</span><span class="p">\$</span>x^2<span class="p">\$</span><span class="err">。</span>

<span class="err">星号</span><span class="w"> </span><span class="p">\</span><span class="o">*</span><span class="w"> </span><span class="err">和下划线</span><span class="w"> </span>\_<span class="w"> </span><span class="err">可以直接显示。</span>

<span class="err">如果需要输入反斜杠本身：</span><span class="p">\\</span><span class="err">。</span>

<span class="err">注意：在代码块（```）或原始文本函数</span><span class="w"> </span><span class="nv">#raw</span><span class="w"> </span><span class="err">中，通常不需要转义，所有字符都会原样输出。</span>
</pre></div></div></div>
<div id="outline-container-2-13-3" class="outline-4">
<h4 id="org-title-2-13-3"><span class="section-number-4">2.13.3.</span> 上下文注意事项</h4>
<div class="outline-text-4" id="text-2-13-3"><ul class="org-ul">
<li>在 <b>数学模式</b> （ <code>$...$</code> ）中，大多数特殊字符的含义与文本模式不同，但 <code>#</code> 依然需要转义（例如 <code>$\#$</code> 显示 #）。
</li>
<li>在 <b>代码块</b> （三个反引号包裹）或 <code>#raw</code> 块中，所有字符按原样输出，无需转义。
</li>
<li><p>在 <b>字符串</b> 中（例如函数参数）， <code>&quot;</code> 需转义为 <code>\&quot;=，而 =#</code> 一般无需转义（除非后面紧跟命令）。</p>
</li></ul>
</div></div>
<div id="outline-container-2-13-4" class="outline-4">
<h4 id="org-title-2-13-4"><span class="section-number-4">2.13.4.</span> 其他方式</h4>
<div class="outline-text-4" id="text-2-13-4"><p>除了反斜杠转义，还可以使用 <code>#text</code> 函数的 <code>fill</code> 参数来输出特殊符号，但转义是最直接的方法。</p><p>更多细节可参考 <a href="https://typst.app/docs/reference/syntax/#escapes">Typst 官方文档</a>。</p></div></div></div></div>
<div id="outline-container-3" class="outline-2">
<h2 id="org-title-3"><span class="section-number-2">3.</span> 像ctex一样工作</h2>
<div class="outline-text-2" id="text-3"></div><div id="outline-container-3-1" class="outline-3">
<h3 id="org-title-3-1"><span class="section-number-3">3.1.</span> 默认字体问题</h3>
<div class="outline-text-3" id="text-3-1"><p>typst本身支持cjk，不过需要配置好字体，如果使用的是termux可能会遇到无法检测字体安装目录的字体的情况，可以使用环境变量进行配置：</p><div class="org-src-container"><pre class="src src-bash"><span class="nb">export</span><span class="w"> </span><span class="nv">TYPST_FONT_PATHS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.local/share/fonts&quot;</span>
<span class="c1"># 使用以下命令查看typst检测到的字体：</span>
typst<span class="w"> </span>fonts
<span class="c1"># 注意，这里列出的字体名称不一定和fc-list的输出对得上</span>
</pre></div><p>我这里实测，typst正文默认优先使用楷体字。若需要设置文档字体，请使用：</p><div class="org-src-container"><pre class="src src-typst"><span class="kd">#set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DengXian&quot;</span><span class="p">)</span>
<span class="c1">// or:</span>
<span class="kd">#set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="s2">&quot;DengXian&quot;</span><span class="p">,),</span><span class="w"> </span><span class="nv">weight</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;light&quot;</span><span class="p">)</span>
<span class="c1">// 注：现在(2026.02.25)typst仍不支持变体字体</span>
</pre></div><p>但是实际上这么设置后就会发现它不能设置其他样式的特殊字体。要像ctex包那样工作，可以这么设置：</p><div class="org-src-container"><pre class="src src-typst"><span class="kd">#set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">lang</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;zh&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="s2">&quot;Noto Serif CJK SC&quot;</span><span class="p">,))</span>
<span class="kd">#show</span><span class="w"> </span><span class="nv">heading</span><span class="p">:</span><span class="w"> </span><span class="nv">text</span><span class="p">.</span><span class="nf">with</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FZXiaoBiaoSong-B05&quot;</span><span class="p">)</span>
<span class="kd">#show</span><span class="w"> </span><span class="nv">emph</span><span class="p">:</span><span class="w"> </span><span class="nv">text</span><span class="p">.</span><span class="nf">with</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="s2">&quot;Noto Serif&quot;</span><span class="p">,</span><span class="s2">&quot;KaiTi_GB2312&quot;</span><span class="p">))</span>
</pre></div></div></div>
<div id="outline-container-3-2" class="outline-3">
<h3 id="org-title-3-2"><span class="section-number-3">3.2.</span> 段落缩进问题</h3>
<div class="outline-text-3" id="text-3-2"><p>typst不知道为啥默认是不缩进的。。。像网页文本排版一样嘛，段间距拉大。不过好在能改，使用以下代码：</p><div class="org-src-container"><pre class="src src-typst"><span class="kd">#set</span><span class="w"> </span><span class="nf">par</span><span class="p">(</span>
<span class="w">  </span><span class="nv">first-line-indent</span><span class="p">:</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="nv">amount</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="kr">em</span><span class="p">,</span><span class="w">  </span><span class="c1">// 光这样还不够</span>
<span class="w">    </span><span class="nv">all</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">     </span><span class="c1">// 还需要设置all防止heading后首段不缩进。。</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">)</span>
</pre></div></div></div>
<div id="outline-container-3-3" class="outline-3">
<h3 id="org-title-3-3"><span class="section-number-3">3.3.</span> 标题(heading)与目录</h3>
<div class="outline-text-3" id="text-3-3"><p>typst的标题默认是没有编号的，需要使用：</p><div class="org-src-container"><pre class="src src-typst"><span class="kd">#set</span><span class="w"> </span><span class="nf">heading</span><span class="p">(</span><span class="nv">numbering</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.&quot;</span><span class="p">)</span>
</pre></div><p>进行设置。如果需要在pdf中插入目录，则可以使用：</p><div class="org-src-container"><pre class="src src-typst"><span class="nf">#outline</span><span class="p">()</span>
<span class="c1">// latex模板用多了差点以为tex是自带目录的。。。</span>
</pre></div></div></div>
<div id="outline-container-3-4" class="outline-3">
<h3 id="org-title-3-4"><span class="section-number-3">3.4.</span> 引用缩进</h3>
<div class="outline-text-3" id="text-3-4"><p>默认的 <code>quote()</code> 函数功能是给你加个引号，使用 <code>block:true</code> 后则可独立成块（该参数可被设置）（若还想加引号可以设置回来）</p><p>如果需要使用段首缩进，请使用：</p><div class="org-src-container"><pre class="src src-typst"><span class="kd">#show</span><span class="w"> </span><span class="nv">quote</span><span class="p">:</span><span class="w"> </span><span class="kd">set</span><span class="w"> </span><span class="nf">pad</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="kr">em</span><span class="p">)</span>
</pre></div><p>注意：仅一段时好像不会段首缩进，但有了两个自然段时就会了。</p></div></div></div>
<div id="outline-container-4" class="outline-2">
<h2 id="org-title-4"><span class="section-number-2">4.</span> 其他功能</h2>
<div class="outline-text-2" id="text-4"></div><div id="outline-container-4-1" class="outline-3">
<h3 id="org-title-4-1"><span class="section-number-3">4.1.</span> 假文</h3>
<div class="outline-text-3" id="text-4-1"><p>使用：</p><div class="org-src-container"><pre class="src src-typst"><span class="nf">#lorem</span><span class="p">(</span><span class="nv">n</span><span class="p">)</span>
</pre></div><p>其中n为单词数量</p></div></div></div>
<div id="outline-container-5" class="outline-2">
<h2 id="org-title-5"><span class="section-number-2">5.</span> 吐槽</h2>
<div class="outline-text-2" id="text-5"><p>整点typst笑话：</p><p>在编写、编译一个用pandoc从tex转过来的也就36M的纯文本文档时，你的tinymist的运行情况belike：</p><div class="org-src-container"><pre class="src src-text">2月 26 14:44:41 ArchUSB kernel: tinymist invoked oom-killer: gfp_mask=0xcc0(GFP_KERNEL), order=0, oom_score_adj=0
2月 26 14:44:42 ArchUSB kernel: CPU: 5 UID: 1000 PID: 533888 Comm: tinymist Tainted: G S      W           6.18.9-arch1-2 #1 PREEMPT(full)  acc0345693780c55f83aaf9a0c9efd10d8da358f
2月 26 14:44:42 ArchUSB kernel: Tainted: [S]=CPU_OUT_OF_SPEC, [W]=WARN
2月 26 14:44:42 ArchUSB kernel: Hardware name: HUAWEI MCLG-XX/MCLG-XX-PCB, BIOS 1.20 10/11/2025
2月 26 14:44:42 ArchUSB kernel: Call Trace:
2月 26 14:44:42 ArchUSB kernel:  &lt;TASK&gt;
2月 26 14:44:42 ArchUSB kernel:  dump_stack_lvl+0x5d/0x80
2月 26 14:44:42 ArchUSB kernel:  dump_header+0x43/0x1aa
2月 26 14:44:42 ArchUSB kernel:  oom_kill_process.cold+0x8/0x90
2月 26 14:44:42 ArchUSB kernel:  out_of_memory+0x210/0x500
2月 26 14:44:42 ArchUSB kernel:  mem_cgroup_out_of_memory+0xc2/0xd0
2月 26 14:44:42 ArchUSB kernel:  try_charge_memcg+0x442/0x660
2月 26 14:44:42 ArchUSB kernel:  charge_memcg+0x2f/0x70
2月 26 14:44:42 ArchUSB kernel:  __mem_cgroup_charge+0x30/0x90
2月 26 14:44:42 ArchUSB kernel:  do_anonymous_page+0x324/0x890
2月 26 14:44:42 ArchUSB kernel:  ? ___pte_offset_map+0x1b/0x160
2月 26 14:44:42 ArchUSB kernel:  __handle_mm_fault+0xa60/0xf10
2月 26 14:44:42 ArchUSB kernel:  ? sched_balance_trigger+0x72/0x370
2月 26 14:44:42 ArchUSB kernel:  ? perf_event_task_tick+0x4f/0xb0
2月 26 14:44:42 ArchUSB kernel:  handle_mm_fault+0xe7/0x2d0
2月 26 14:44:42 ArchUSB kernel:  do_user_addr_fault+0x21a/0x690
2月 26 14:44:42 ArchUSB kernel:  exc_page_fault+0x7e/0x1a0
2月 26 14:44:42 ArchUSB kernel:  asm_exc_page_fault+0x26/0x30
2月 26 14:44:42 ArchUSB kernel: RIP: 0033:0x55e5d5d43b17
2月 26 14:44:42 ArchUSB kernel: Code: 48 8b 47 10 4c 8b 68 20 49 83 e5 f8 4c 89 e9 48 2b 08 0f 82 1a 04 00 00 48 83 f9 40 0f 82 10 04 00 00 49 83 c5 c0 4c 89 68 20 &lt;49&gt; 89 5d 00 66 0f 28 85 40 ff ff ff 66 41 0f 11 45 08 48 8b 85 50
2月 26 14:44:42 ArchUSB kernel: RSP: 002b:00007f28cfdfc1f0 EFLAGS: 00010207
2月 26 14:44:42 ArchUSB kernel: RAX: 00007f2571000000 RBX: 0000000000000001 RCX: 0000000000fe6ff0
2月 26 14:44:42 ArchUSB kernel: RDX: 00007f28cfdfcb10 RSI: 00007f256e53f180 RDI: 00007f28cfdfc478
2月 26 14:44:42 ArchUSB kernel: RBP: 00007f28cfdfc310 R08: 0000000000000001 R09: 0000000000000003
2月 26 14:44:42 ArchUSB kernel: R10: 000055e5d4d6ef60 R11: 8080808080808080 R12: 0000000000000002
2月 26 14:44:42 ArchUSB kernel: R13: 00007f2570fe6ff0 R14: 0000000000000000 R15: 0000000000000001
2月 26 14:44:42 ArchUSB kernel:  &lt;/TASK&gt;
2月 26 14:44:42 ArchUSB kernel: memory: usage 10485760kB, limit 10485760kB, failcnt 1441
2月 26 14:44:42 ArchUSB kernel: swap: usage 0kB, limit 9007199254740988kB, failcnt 0
2月 26 14:44:42 ArchUSB kernel: Memory cgroup stats for /linitmem:
2月 26 14:44:42 ArchUSB kernel: anon 10710810624
2月 26 14:44:42 ArchUSB kernel: file 40960
2月 26 14:44:42 ArchUSB kernel: kernel 26566656
2月 26 14:44:42 ArchUSB kernel: kernel_stack 704512
2月 26 14:44:42 ArchUSB kernel: pagetables 0
2月 26 14:44:42 ArchUSB kernel: sec_pagetables 0
2月 26 14:44:42 ArchUSB kernel: percpu 1344
2月 26 14:44:42 ArchUSB kernel: sock 0
2月 26 14:44:42 ArchUSB kernel: vmalloc 0
2月 26 14:44:42 ArchUSB kernel: shmem 40960
2月 26 14:44:42 ArchUSB kernel: zswap 0
2月 26 14:44:42 ArchUSB kernel: zswapped 0
2月 26 14:44:42 ArchUSB kernel: file_mapped 172032
2月 26 14:44:42 ArchUSB kernel: file_dirty 0
2月 26 14:44:42 ArchUSB kernel: file_writeback 0
2月 26 14:44:42 ArchUSB kernel: swapcached 0
2月 26 14:44:42 ArchUSB kernel: anon_thp 843055104
2月 26 14:44:42 ArchUSB kernel: file_thp 0
2月 26 14:44:42 ArchUSB kernel: shmem_thp 0
2月 26 14:44:42 ArchUSB kernel: inactive_anon 294502400
2月 26 14:44:42 ArchUSB kernel: active_anon 10416345088
2月 26 14:44:42 ArchUSB kernel: inactive_file 0
2月 26 14:44:42 ArchUSB kernel: active_file 0
2月 26 14:44:42 ArchUSB kernel: unevictable 0
2月 26 14:44:42 ArchUSB kernel: slab_reclaimable 252680
2月 26 14:44:42 ArchUSB kernel: slab_unreclaimable 836064
2月 26 14:44:42 ArchUSB kernel: slab 1088744
2月 26 14:44:42 ArchUSB kernel: hugetlb 0
2月 26 14:44:42 ArchUSB kernel: workingset_refault_anon 0
2月 26 14:44:42 ArchUSB kernel: workingset_refault_file 11442
2月 26 14:44:42 ArchUSB kernel: workingset_activate_anon 0
2月 26 14:44:42 ArchUSB kernel: workingset_activate_file 0
2月 26 14:44:42 ArchUSB kernel: workingset_restore_anon 0
2月 26 14:44:42 ArchUSB kernel: workingset_restore_file 0
2月 26 14:44:42 ArchUSB kernel: workingset_nodereclaim 0
2月 26 14:44:42 ArchUSB kernel: pgdemote_kswapd 0
2月 26 14:44:42 ArchUSB kernel: pgdemote_direct 0
2月 26 14:44:42 ArchUSB kernel: pgdemote_khugepaged 0
2月 26 14:44:42 ArchUSB kernel: pgdemote_proactive 0
2月 26 14:44:42 ArchUSB kernel: pgpromote_success 0
2月 26 14:44:42 ArchUSB kernel: pgscan 35142
2月 26 14:44:42 ArchUSB kernel: pgsteal 35082
2月 26 14:44:42 ArchUSB kernel: pswpin 0
2月 26 14:44:42 ArchUSB kernel: pswpout 0
2月 26 14:44:42 ArchUSB kernel: pgscan_kswapd 5539
2月 26 14:44:42 ArchUSB kernel: pgscan_direct 29603
2月 26 14:44:42 ArchUSB kernel: pgscan_khugepaged 0
2月 26 14:44:42 ArchUSB kernel: pgscan_proactive 0
2月 26 14:44:42 ArchUSB kernel: pgsteal_kswapd 5539
2月 26 14:44:42 ArchUSB kernel: pgsteal_direct 29543
2月 26 14:44:42 ArchUSB kernel: pgsteal_khugepaged 0
2月 26 14:44:42 ArchUSB kernel: pgsteal_proactive 0
2月 26 14:44:42 ArchUSB kernel: pgfault 15879598
2月 26 14:44:42 ArchUSB kernel: pgmajfault 73
2月 26 14:44:42 ArchUSB kernel: pgrefill 5852
2月 26 14:44:42 ArchUSB kernel: pgactivate 37
2月 26 14:44:42 ArchUSB kernel: pgdeactivate 0
2月 26 14:44:42 ArchUSB kernel: pglazyfree 0
2月 26 14:44:42 ArchUSB kernel: pglazyfreed 0
2月 26 14:44:42 ArchUSB kernel: swpin_zero 0
2月 26 14:44:42 ArchUSB kernel: swpout_zero 0
2月 26 14:44:42 ArchUSB kernel: zswpin 0
2月 26 14:44:42 ArchUSB kernel: zswpout 0
2月 26 14:44:42 ArchUSB kernel: zswpwb 0
2月 26 14:44:42 ArchUSB kernel: thp_fault_alloc 7897
2月 26 14:44:42 ArchUSB kernel: thp_collapse_alloc 0
2月 26 14:44:42 ArchUSB kernel: thp_swpout 0
2月 26 14:44:42 ArchUSB kernel: thp_swpout_fallback 0
2月 26 14:44:42 ArchUSB kernel: numa_pages_migrated 0
2月 26 14:44:42 ArchUSB kernel: numa_pte_updates 0
2月 26 14:44:42 ArchUSB kernel: numa_hint_faults 0
2月 26 14:44:42 ArchUSB kernel: Tasks state (memory values in pages):
2月 26 14:44:42 ArchUSB kernel: [  pid  ]   uid  tgid total_vm      rss rss_anon rss_file rss_shmem pgtables_bytes swapents oom_score_adj name
2月 26 14:44:42 ArchUSB kernel: [   3685]  1000  3685     4713     3695     1531     2164         0    65536        0             0 zsh
2月 26 14:44:42 ArchUSB kernel: [ 519059]  1000 519059     4591     2028      320     1708         0    69632        0             0 nvim
2月 26 14:44:42 ArchUSB kernel: [ 519061]  1000 519061     6923     4388     2464     1924         0    90112        0             0 nvim
2月 26 14:44:42 ArchUSB kernel: [ 519068]  1000 519068  4614974    35816    10827    24989         0  1159168        0             0 node-MainThread
2月 26 14:44:42 ArchUSB kernel: [ 519153]  1000 519153    10029     6694     3302     3392         0   110592        0             0 pynvim-python
2月 26 14:44:42 ArchUSB kernel: [ 519194]  1000 519194    10758     7034     3485     3549         0   114688        0             0 python
2月 26 14:44:42 ArchUSB kernel: [ 533885]  1000 533885  3372405  2594433  2593421     1012         0 23040000        0             0 tinymist
2月 26 14:44:42 ArchUSB kernel: oom-kill:constraint=CONSTRAINT_MEMCG,nodemask=(null),cpuset=/,mems_allowed=0,oom_memcg=/linitmem,task_memcg=/linitmem,task=tinymist,pid=533885,uid=1000
2月 26 14:44:42 ArchUSB kernel: Memory cgroup out of memory: Killed process 533885 (tinymist) total-vm:13489620kB, anon-rss:10373684kB, file-rss:4048kB, shmem-rss:0kB, UID:1000 pgtables:22500kB oom_score_adj:0
</pre></div><p>直接把cgroup设定的10G内存都吃干抹净了。。。。。</p><p>而在编译时typst的情况belike：</p><div class="org-src-container"><pre class="src src-text">2月 26 14:52:37 ArchUSB kernel: typst invoked oom-killer: gfp_mask=0x100cca(GFP_HIGHUSER_MOVABLE), order=0, oom_score_adj=0
2月 26 14:52:37 ArchUSB kernel: CPU: 0 UID: 1000 PID: 626830 Comm: typst Tainted: G S      W           6.18.9-arch1-2 #1 PREEMPT(full)  acc0345693780c55f83aaf9a0c9efd10d8da358f
2月 26 14:52:37 ArchUSB kernel: Tainted: [S]=CPU_OUT_OF_SPEC, [W]=WARN
2月 26 14:52:37 ArchUSB kernel: Hardware name: HUAWEI MCLG-XX/MCLG-XX-PCB, BIOS 1.20 10/11/2025
2月 26 14:52:37 ArchUSB kernel: Call Trace:
2月 26 14:52:37 ArchUSB kernel:  &lt;TASK&gt;
2月 26 14:52:37 ArchUSB kernel:  dump_stack_lvl+0x5d/0x80
2月 26 14:52:37 ArchUSB kernel:  dump_header+0x43/0x1aa
2月 26 14:52:37 ArchUSB kernel:  oom_kill_process.cold+0x8/0x90
2月 26 14:52:37 ArchUSB kernel:  out_of_memory+0x210/0x500
2月 26 14:52:37 ArchUSB kernel:  mem_cgroup_out_of_memory+0xc2/0xd0
2月 26 14:52:37 ArchUSB kernel:  try_charge_memcg+0x442/0x660
2月 26 14:52:37 ArchUSB kernel:  charge_memcg+0x2f/0x70
2月 26 14:52:37 ArchUSB kernel:  __mem_cgroup_charge+0x30/0x90
2月 26 14:52:37 ArchUSB kernel:  filemap_add_folio+0x5e/0x220
2月 26 14:52:37 ArchUSB kernel:  ? alloc_pages_mpol+0x86/0x170
2月 26 14:52:37 ArchUSB kernel:  __filemap_get_folio+0x1c6/0x570
2月 26 14:52:37 ArchUSB kernel:  ? page_cache_ra_unbounded+0x1ac/0x270
2月 26 14:52:37 ArchUSB kernel:  filemap_fault+0x112/0x1630
2月 26 14:52:37 ArchUSB kernel:  __do_fault+0x34/0x1d0
2月 26 14:52:37 ArchUSB kernel:  do_fault+0x38d/0x600
2月 26 14:52:37 ArchUSB kernel:  __handle_mm_fault+0x8d0/0xf10
2月 26 14:52:37 ArchUSB kernel:  ? sched_balance_trigger+0x144/0x370
2月 26 14:52:37 ArchUSB kernel:  ? __smp_call_single_queue+0xd2/0x150
2月 26 14:52:37 ArchUSB kernel:  handle_mm_fault+0xe7/0x2d0
2月 26 14:52:37 ArchUSB kernel:  do_user_addr_fault+0x21a/0x690
2月 26 14:52:37 ArchUSB kernel:  exc_page_fault+0x7e/0x1a0
2月 26 14:52:37 ArchUSB kernel:  asm_exc_page_fault+0x26/0x30
2月 26 14:52:37 ArchUSB kernel: RIP: 0033:0x5646a0d5b815
2月 26 14:52:37 ArchUSB kernel: Code: Unable to access opcode bytes at 0x5646a0d5b7eb.
2月 26 14:52:37 ArchUSB kernel: RSP: 002b:00007ffc35fcf970 EFLAGS: 00010202
2月 26 14:52:37 ArchUSB kernel: RAX: 00007ffc35fcffb0 RBX: 00007ffc35fcff50 RCX: 00007ffc35fd0220
2月 26 14:52:37 ArchUSB kernel: RDX: 00007ffc35fcfe30 RSI: 00007ffc35fcff50 RDI: 00007ffc35fcffb0
2月 26 14:52:37 ArchUSB kernel: RBP: 00007ffc35fcf980 R08: 0000000000000040 R09: 9572431bd62f2de6
2月 26 14:52:37 ArchUSB kernel: R10: 0000000000000041 R11: 00007f7436ed8ac8 R12: 0000000000000000
2月 26 14:52:37 ArchUSB kernel: R13: 00007ffc35fcff50 R14: 00007ffc35fcfa58 R15: 0000000000345d19
2月 26 14:52:37 ArchUSB kernel:  &lt;/TASK&gt;
2月 26 14:52:37 ArchUSB kernel: memory: usage 8388608kB, limit 8388608kB, failcnt 15894
2月 26 14:52:37 ArchUSB kernel: swap: usage 0kB, limit 9007199254740988kB, failcnt 0
2月 26 14:52:37 ArchUSB kernel: Memory cgroup stats for /linitmem:
2月 26 14:52:37 ArchUSB kernel: anon 8569540608
2月 26 14:52:37 ArchUSB kernel: file 540672
2月 26 14:52:37 ArchUSB kernel: kernel 19853312
2月 26 14:52:37 ArchUSB kernel: kernel_stack 212992
2月 26 14:52:37 ArchUSB kernel: pagetables 0
2月 26 14:52:37 ArchUSB kernel: sec_pagetables 0
2月 26 14:52:37 ArchUSB kernel: percpu 224
2月 26 14:52:37 ArchUSB kernel: sock 0
2月 26 14:52:37 ArchUSB kernel: vmalloc 0
2月 26 14:52:37 ArchUSB kernel: shmem 40960
2月 26 14:52:37 ArchUSB kernel: zswap 0
2月 26 14:52:37 ArchUSB kernel: zswapped 0
2月 26 14:52:37 ArchUSB kernel: file_mapped 0
2月 26 14:52:37 ArchUSB kernel: file_dirty 0
2月 26 14:52:37 ArchUSB kernel: file_writeback 0
2月 26 14:52:37 ArchUSB kernel: swapcached 0
2月 26 14:52:37 ArchUSB kernel: anon_thp 981467136
2月 26 14:52:37 ArchUSB kernel: file_thp 0
2月 26 14:52:37 ArchUSB kernel: shmem_thp 0
2月 26 14:52:37 ArchUSB kernel: inactive_anon 8201560064
2月 26 14:52:37 ArchUSB kernel: active_anon 368021504
2月 26 14:52:37 ArchUSB kernel: inactive_file 499712
2月 26 14:52:37 ArchUSB kernel: active_file 0
2月 26 14:52:37 ArchUSB kernel: unevictable 0
2月 26 14:52:37 ArchUSB kernel: slab_reclaimable 1307864
2月 26 14:52:37 ArchUSB kernel: slab_unreclaimable 206472
2月 26 14:52:37 ArchUSB kernel: slab 1514336
2月 26 14:52:37 ArchUSB kernel: hugetlb 0
2月 26 14:52:37 ArchUSB kernel: workingset_refault_anon 0
2月 26 14:52:37 ArchUSB kernel: workingset_refault_file 618881
2月 26 14:52:37 ArchUSB kernel: workingset_activate_anon 0
2月 26 14:52:37 ArchUSB kernel: workingset_activate_file 39095
2月 26 14:52:37 ArchUSB kernel: workingset_restore_anon 0
2月 26 14:52:37 ArchUSB kernel: workingset_restore_file 6
2月 26 14:52:37 ArchUSB kernel: workingset_nodereclaim 0
2月 26 14:52:37 ArchUSB kernel: pgdemote_kswapd 0
2月 26 14:52:37 ArchUSB kernel: pgdemote_direct 0
2月 26 14:52:37 ArchUSB kernel: pgdemote_khugepaged 0
2月 26 14:52:37 ArchUSB kernel: pgdemote_proactive 0
2月 26 14:52:37 ArchUSB kernel: pgpromote_success 0
2月 26 14:52:37 ArchUSB kernel: pgscan 822476
2月 26 14:52:37 ArchUSB kernel: pgsteal 757476
2月 26 14:52:37 ArchUSB kernel: pswpin 0
2月 26 14:52:37 ArchUSB kernel: pswpout 0
2月 26 14:52:37 ArchUSB kernel: pgscan_kswapd 5539
2月 26 14:52:37 ArchUSB kernel: pgscan_direct 816937
2月 26 14:52:37 ArchUSB kernel: pgscan_khugepaged 0
2月 26 14:52:37 ArchUSB kernel: pgscan_proactive 0
2月 26 14:52:37 ArchUSB kernel: pgsteal_kswapd 5539
2月 26 14:52:37 ArchUSB kernel: pgsteal_direct 751937
2月 26 14:52:37 ArchUSB kernel: pgsteal_khugepaged 0
2月 26 14:52:37 ArchUSB kernel: pgsteal_proactive 0
2月 26 14:52:37 ArchUSB kernel: pgfault 23443852
2月 26 14:52:37 ArchUSB kernel: pgmajfault 5393
2月 26 14:52:37 ArchUSB kernel: pgrefill 14160
2月 26 14:52:37 ArchUSB kernel: pgactivate 1557
2月 26 14:52:37 ArchUSB kernel: pgdeactivate 0
2月 26 14:52:37 ArchUSB kernel: pglazyfree 0
2月 26 14:52:37 ArchUSB kernel: pglazyfreed 0
2月 26 14:52:37 ArchUSB kernel: swpin_zero 0
2月 26 14:52:37 ArchUSB kernel: swpout_zero 0
2月 26 14:52:37 ArchUSB kernel: zswpin 0
2月 26 14:52:37 ArchUSB kernel: zswpout 0
2月 26 14:52:37 ArchUSB kernel: zswpwb 0
2月 26 14:52:37 ArchUSB kernel: thp_fault_alloc 11141
2月 26 14:52:37 ArchUSB kernel: thp_collapse_alloc 0
2月 26 14:52:37 ArchUSB kernel: thp_swpout 0
2月 26 14:52:37 ArchUSB kernel: thp_swpout_fallback 0
2月 26 14:52:37 ArchUSB kernel: numa_pages_migrated 0
2月 26 14:52:37 ArchUSB kernel: numa_pte_updates 0
2月 26 14:52:37 ArchUSB kernel: numa_hint_faults 0
2月 26 14:52:37 ArchUSB kernel: Tasks state (memory values in pages):
2月 26 14:52:37 ArchUSB kernel: [  pid  ]   uid  tgid total_vm      rss rss_anon rss_file rss_shmem pgtables_bytes swapents oom_score_adj name
2月 26 14:52:37 ArchUSB kernel: [   3685]  1000  3685     4713     3669     1505     2164         0    65536        0             0 zsh
2月 26 14:52:37 ArchUSB kernel: [ 626830]  1000 626830  2510856  2092249  2091505      744         0 18173952        0             0 typst
2月 26 14:52:37 ArchUSB kernel: oom-kill:constraint=CONSTRAINT_MEMCG,nodemask=(null),cpuset=/,mems_allowed=0,oom_memcg=/linitmem,task_memcg=/linitmem,task=typst,pid=626830,uid=1000
2月 26 14:52:37 ArchUSB kernel: Memory cgroup out of memory: Killed process 626830 (typst) total-vm:10043424kB, anon-rss:8366020kB, file-rss:2976kB, shmem-rss:0kB, UID:1000 pgtables:17748kB oom_score_adj:0
</pre></div><p>8个G的内存照吃不误。。。。</p><p>总之内存不足者请勿如此（如果没有加上额外设置的cgroup内存设定那么OOM的就是物理内存了）。相比之下，xelatex在最后峰值内存700M时完成了编译，运行时长2到3分钟。</p></div></div>
<div id="outline-container-6" class="outline-2">
<h2 id="org-title-6"><span class="section-number-2">6.</span> Reference</h2>
<div class="outline-text-2" id="text-6"><ul class="org-ul">
<li><a href="https://typst.app/docs/tutorial/writing-in-typst/">Typst官网教程（英文）</a>
</li>
<li><a href="https://zhuanlan.zhihu.com/p/650600203">更适合中国宝宝体质的 Typst 设置细节/问题解决</a>
</li></ul>
</div></div></div>
<div id="postamble" class="status">
<p class="date">时间: <2026-02-25 三 14:16></p>
<p class="author">作者: 不要在意我的头像QwQ</p>
<p class="description">描述: 很遗憾刚努力学了几个月的latex发现有了可替代品，这帮写rust的真的是太狠了</p>
<p class="date">生成于: 2026-02-26 四 15:07:14</p>
</div>
</body>
</html>