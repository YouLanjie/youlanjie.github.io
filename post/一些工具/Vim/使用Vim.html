<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
<!-- 2025-01-23 四 11:38 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>使用Vim/Neovim</title>
<meta name="author" content="不要在意我的头像QwQ" />
<meta name="generator" content="Org Mode" />
<script type="text/javascript" src="/theme/main.js" defer></script>
<link rel="stylesheet" type="text/css" href="/theme/main.css"/>
<link rel="shortcut icon" href="/img/icon.jpg">
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="/"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">使用Vim/Neovim</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org647edc4">1. 使用Vim/Neovim</a>
<ul>
<li><a href="#org2287f12">1.1. 操作</a>
<ul>
<li><a href="#org0972d70">1.1.1. 模式介绍</a></li>
<li><a href="#org1f6d3b1">1.1.2. 正常模式</a></li>
<li><a href="#org0f238b5">1.1.3. 命令模式</a></li>
<li><a href="#org93e0c9d">1.1.4. 插入模式</a></li>
<li><a href="#orga04d13b">1.1.5. 替换模式</a></li>
<li><a href="#org6b2ee20">1.1.6. 可视模式</a></li>
</ul>
</li>
<li><a href="#orgd374e4c">1.2. 配置</a>
<ul>
<li><a href="#orgf6408d8">1.2.1. vim</a></li>
<li><a href="#orgb0e6f39">1.2.2. neovim</a></li>
<li><a href="#orgacfb1ab">1.2.3. 配置目录结构</a></li>
<li><a href="#orgb2709aa">1.2.4. 配置语法</a></li>
</ul>
</li>
<li><a href="#org7f71802">1.3. 我的配置</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
关于我个人是怎么理解使用Vim的
</p>

<div id="outline-container-org647edc4" class="outline-2">
<h2 id="org647edc4"><span class="section-number-2">1.</span> 使用Vim/Neovim</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org2287f12" class="outline-3">
<h3 id="org2287f12"><span class="section-number-3">1.1.</span> 操作</h3>
<div class="outline-text-3" id="text-1-1">
<blockquote>
<p>
Vim官方已经有了一份中文的教程了，只需要在终端执行
</p>

<div class="org-src-container">
<pre class="src src-bash">vimtutor
</pre>
</div>

<p>
即可查看
</p>
</blockquote>
</div>

<div id="outline-container-org0972d70" class="outline-4">
<h4 id="org0972d70"><span class="section-number-4">1.1.1.</span> 模式介绍</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
Vim分为多个模式，正常情况下Vim处于 <b>正常模式</b> 。在其他模式下按下 <b>ESC</b> 键可以返
回正常模式。在正常模式下，可以通过各种按键进入其他模式或者执行什么文件的编辑功能。
列表：
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">名称</th>
<th scope="col" class="org-left">作用</th>
<th scope="col" class="org-left">进入方法</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">正常模式</td>
<td class="org-left">vim的默认模式，其他模式的入口</td>
<td class="org-left">按下ESC返回</td>
</tr>

<tr>
<td class="org-left">命令模式</td>
<td class="org-left">可以执行命令、保存文件、退出程序等操作</td>
<td class="org-left">在正常模式输入`:`进入，可以输入命令回车执行</td>
</tr>

<tr>
<td class="org-left">插入模式</td>
<td class="org-left">用于插入文本到文件中</td>
<td class="org-left">按下`i` `I` `a` `A` `s` `S` `c` `o` `O`等</td>
</tr>

<tr>
<td class="org-left">替换模式</td>
<td class="org-left">用于输入新的字符并将源字符替换</td>
<td class="org-left">按下`R`进入</td>
</tr>

<tr>
<td class="org-left">可视模式</td>
<td class="org-left">选择文本</td>
<td class="org-left">按下`v`进入</td>
</tr>

<tr>
<td class="org-left">可视 块模式</td>
<td class="org-left">选择文本，但是可以以方块状的模式剪贴</td>
<td class="org-left">按下`Ctrl-v`进入</td>
</tr>

<tr>
<td class="org-left">可视 行模式</td>
<td class="org-left">选择文本，但是直接选择整行（未发现有什么用）</td>
<td class="org-left">按下`Shift-v`进入</td>
</tr>

<tr>
<td class="org-left">选择模式</td>
<td class="org-left">选择文本，按下字符替换掉选择的字符，并进入插入模式</td>
<td class="org-left">按下`v`进入（任意）可视模式后再按下`Ctrl-g`进入选择模式，也有块、行模式的区分，基于进入的是什么可视模式进入</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org1f6d3b1" class="outline-4">
<h4 id="org1f6d3b1"><span class="section-number-4">1.1.2.</span> 正常模式</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
移动（官方教程原文）：
</p>

<div class="org-src-container">
<pre class="src src-text">      ^
      k              &#25552;&#31034;&#65306; h &#30340;&#38190;&#20301;&#20110;&#24038;&#36793;&#65292;&#27599;&#27425;&#25353;&#19979;&#23601;&#20250;&#21521;&#24038;&#31227;&#21160;&#12290;
&lt; h       l &gt;               l &#30340;&#38190;&#20301;&#20110;&#21491;&#36793;&#65292;&#27599;&#27425;&#25353;&#19979;&#23601;&#20250;&#21521;&#21491;&#31227;&#21160;&#12290;
      j                     j &#38190;&#30475;&#36215;&#26469;&#24456;&#35937;&#19968;&#25903;&#23574;&#31471;&#26041;&#21521;&#26397;&#19979;&#30340;&#31661;&#22836;&#12290;
      v
</pre>
</div>

<blockquote>
<p>
此操作只能够在正常模式下使用
</p>
</blockquote>

<p>
操作表：
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">按键</th>
<th scope="col" class="org-left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">a</td>
<td class="org-left">进入插入模式，插入光标向右移动一字符，在光标左边插入</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-left">进入插入模式，插入光标移动到行末，在光标左边插入</td>
</tr>

<tr>
<td class="org-left">cw</td>
<td class="org-left">移除一个字符从光标处到单词末（进入插入模式）</td>
</tr>

<tr>
<td class="org-left">ce</td>
<td class="org-left">移除字符到行末（进入插入模式）</td>
</tr>

<tr>
<td class="org-left">d[n]d</td>
<td class="org-left">移除n行，不指定n则为一行</td>
</tr>

<tr>
<td class="org-left">[n]dd</td>
<td class="org-left">移除n行，不指定n则为一行</td>
</tr>

<tr>
<td class="org-left">dw</td>
<td class="org-left">移除一个单词</td>
</tr>

<tr>
<td class="org-left">e</td>
<td class="org-left">移动到（下一个）词末</td>
</tr>

<tr>
<td class="org-left">[n]gg</td>
<td class="org-left">移动到第n行，不指定n则移动到文件首</td>
</tr>

<tr>
<td class="org-left">[n]G</td>
<td class="org-left">移动到第n行，不指定n则移动到文件末</td>
</tr>

<tr>
<td class="org-left">Ctrl-g</td>
<td class="org-left">显示文件信息</td>
</tr>

<tr>
<td class="org-left">[n]h</td>
<td class="org-left">向左移动n个字符，n默认（不指定时）为1</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-left">进入插入模式，插入光标不动，在光标左边插入</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-left">进入插入模式，插入光标移动到行首，在光标左边插入</td>
</tr>

<tr>
<td class="org-left">[n]j</td>
<td class="org-left">向下移动n行，n默认（不指定时）为1</td>
</tr>

<tr>
<td class="org-left">[n]k</td>
<td class="org-left">向上移动n行，n默认（不指定时）为1</td>
</tr>

<tr>
<td class="org-left">[n]l</td>
<td class="org-left">向右移动n个字符，n默认（不指定时）为1</td>
</tr>

<tr>
<td class="org-left">n</td>
<td class="org-left">搜索事的下一个搜索目标</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-left">搜索事的上一个搜索目标</td>
</tr>

<tr>
<td class="org-left">o</td>
<td class="org-left">向下新建一行并进入插入模式</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-left">向上新建一行并进入插入模式</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-left">在光标的右侧粘贴vim缓存的内容，可以通过`c` `d` `y`等方式向缓存区写入内容（独立于系统的剪贴板）</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-left">效果同`p`但是内容在光标左边粘贴内容</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-left">替换一个字符</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-left">进入替换模式，输入的字符将会替换文件原有内容</td>
</tr>

<tr>
<td class="org-left">Ctrl-r</td>
<td class="org-left">撤销*undo*操作（即撤销撤销操作）</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-left">基本等同于`c`</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-left">*undo*即撤销之前的操作</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-left">进入**可视模式**选择文本（选择好后可以键入 `:w filename` 将选择的内容保存在文件 <b>filename</b> 中）</td>
</tr>

<tr>
<td class="org-left">Ctrl-v</td>
<td class="org-left">进入**可视 块**模式选择文本，可以以方块状选择文本</td>
</tr>

<tr>
<td class="org-left">Shift-v</td>
<td class="org-left">进入**可视 行**模式选择文本，不过是直接一行行地选择文本</td>
</tr>

<tr>
<td class="org-left">[Ctrl/Shift]+v+Ctrl+g</td>
<td class="org-left">选择文本，按下字符替换掉选择的字符，并进入插入模式</td>
</tr>

<tr>
<td class="org-left">w</td>
<td class="org-left">移动到（下一个）词首，也可以作为worlds单位供其他动作使用</td>
</tr>

<tr>
<td class="org-left">[n]x</td>
<td class="org-left">移除光标所处位置的（n个字符，默认为1个）字符，但不会进入插入模式</td>
</tr>

<tr>
<td class="org-left">y</td>
<td class="org-left">复制选中的内容到缓存区</td>
</tr>

<tr>
<td class="org-left">yy</td>
<td class="org-left">复制光标所在行的内容</td>
</tr>

<tr>
<td class="org-left">?</td>
<td class="org-left">搜索文件内容时反过来搜索（从文件末向文件首排列搜索目标）</td>
</tr>

<tr>
<td class="org-left">%</td>
<td class="org-left">移动光标到符合匹配的一对字符（括号类、引号类）的另一个，如由开括号跳转到收括号</td>
</tr>

<tr>
<td class="org-left">$</td>
<td class="org-left">跳转到行末</td>
</tr>

<tr>
<td class="org-left">^</td>
<td class="org-left">跳转到行首</td>
</tr>

<tr>
<td class="org-left">0</td>
<td class="org-left">跳转到行首</td>
</tr>

<tr>
<td class="org-left">#</td>
<td class="org-left">在文件中查找光标所在位置的单词</td>
</tr>

<tr>
<td class="org-left">*</td>
<td class="org-left">同 <b>#</b></td>
</tr>

<tr>
<td class="org-left">F1</td>
<td class="org-left">打开一个Vim的帮助窗口（教程纯英文）</td>
</tr>

<tr>
<td class="org-left">[n]Ctrl+a</td>
<td class="org-left">在遇到数字时会自动将数字自增n（不指定时n默认为1）</td>
</tr>

<tr>
<td class="org-left">[n]Ctrl+x</td>
<td class="org-left">在遇到数字时会自动将数字自减n（不指定时n默认为1）</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org0f238b5" class="outline-4">
<h4 id="org0f238b5"><span class="section-number-4">1.1.3.</span> 命令模式</h4>
<div class="outline-text-4" id="text-1-1-3">
<p>
较为常用的命令表：
</p>

<blockquote>
<p>
在命令后添加 <b>!</b> 意思为强制执行
</p>
</blockquote>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">:w</td>
<td class="org-left">保存</td>
</tr>

<tr>
<td class="org-left">:w!</td>
<td class="org-left">强制保存</td>
</tr>

<tr>
<td class="org-left">:q</td>
<td class="org-left">退出</td>
</tr>

<tr>
<td class="org-left">:q!</td>
<td class="org-left">强制（不保存）退出</td>
</tr>

<tr>
<td class="org-left">:wq</td>
<td class="org-left">保存并退出</td>
</tr>

<tr>
<td class="org-left">:a</td>
<td class="org-left">在文件的末尾追加回车后输入的字符，按下 <b>Esc</b> 返回</td>
</tr>

<tr>
<td class="org-left">:r filename</td>
<td class="org-left">读取文件 <i>filename</i> 的内容并追加到文件中</td>
</tr>

<tr>
<td class="org-left">: s/a/b/g</td>
<td class="org-left">替换光标所在行中的所有 <b>a</b> 为 <b>b</b></td>
</tr>

<tr>
<td class="org-left">:%s/a/b/g</td>
<td class="org-left">替换文件中的所有 <b>a</b> 为 <b>b</b></td>
</tr>

<tr>
<td class="org-left">:%s/a/b</td>
<td class="org-left">替换文件中的每行的第一个 <b>a</b> 为 <b>b</b></td>
</tr>

<tr>
<td class="org-left">:#,#s/a/b</td>
<td class="org-left">替换文件中第 <b>#</b> 行到第 <b>#</b> 行的每行的第一个 <b>a</b> 为 <b>b</b></td>
</tr>

<tr>
<td class="org-left">:#,#s/a/b/g</td>
<td class="org-left">替换文件中第 <b>#</b> 行到第 <b>#</b> 行的所有 <b>a</b> 为 <b>b</b></td>
</tr>

<tr>
<td class="org-left">:sp</td>
<td class="org-left">横向分割出一个新窗口（并打开命令后面指定的文件）</td>
</tr>

<tr>
<td class="org-left">:vsp</td>
<td class="org-left">纵向分割出一个新窗口（并打开命令后面指定的文件）</td>
</tr>

<tr>
<td class="org-left">:tabnew</td>
<td class="org-left">新建标签页（并打开命令后面指定的文件）</td>
</tr>

<tr>
<td class="org-left">:tabNext</td>
<td class="org-left">下一个标签页</td>
</tr>

<tr>
<td class="org-left">:set [setting]</td>
<td class="org-left">设置编辑器设置的setting项，如 <code>set wrap</code> 设置打开文件自动折行</td>
</tr>

<tr>
<td class="org-left">:setfiletype type</td>
<td class="org-left">设置文件类型为指定的 <b>type</b></td>
</tr>

<tr>
<td class="org-left">:!command</td>
<td class="org-left">调用shell执行外部命令 <i>command</i></td>
</tr>

<tr>
<td class="org-left">:bn</td>
<td class="org-left">切换窗口到下一个buffer（Vim打开文件若只关闭窗口文件还会以Buffer形式在后台打开</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org93e0c9d" class="outline-4">
<h4 id="org93e0c9d"><span class="section-number-4">1.1.4.</span> 插入模式</h4>
<div class="outline-text-4" id="text-1-1-4">
<p>
只不过是简单地输入文本并插入到文件中罢了
</p>
</div>
</div>
<div id="outline-container-orga04d13b" class="outline-4">
<h4 id="orga04d13b"><span class="section-number-4">1.1.5.</span> 替换模式</h4>
<div class="outline-text-4" id="text-1-1-5">
<p>
同插入模式，只不过内容会被直接替换
</p>
</div>
</div>
<div id="outline-container-org6b2ee20" class="outline-4">
<h4 id="org6b2ee20"><span class="section-number-4">1.1.6.</span> 可视模式</h4>
<div class="outline-text-4" id="text-1-1-6">
<p>
从原光标处起移动光标选定区域，选定的内容可以直接输入 <code>y</code> 复制，也可以直接输入
<code>:w</code> 保存内容到指定的文件中（实际上显示的真正命令应该为 <code>:'\&lt;,'\&gt;w</code> ）
<img src="./2022-07-08_01/2022-07-08_01-01.png" alt="2022-07-08_01-01.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgd374e4c" class="outline-3">
<h3 id="orgd374e4c"><span class="section-number-3">1.2.</span> 配置</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-orgf6408d8" class="outline-4">
<h4 id="orgf6408d8"><span class="section-number-4">1.2.1.</span> vim</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
Vim的主配置文件可以是 <code>~/.vimrc</code> 也可以是 <code>~/.vim/vimrc</code> 。
</p>
</div>
</div>
<div id="outline-container-orgb0e6f39" class="outline-4">
<h4 id="orgb0e6f39"><span class="section-number-4">1.2.2.</span> neovim</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
Neovim的主配置文件是 <code>~/.config/nvim/init.vim</code> 。
</p>
</div>
</div>
<div id="outline-container-orgacfb1ab" class="outline-4">
<h4 id="orgacfb1ab"><span class="section-number-4">1.2.3.</span> 配置目录结构</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
Vim/Neovim的配置文件夹结构基本一致。基本结构如下
</p>

<div class="org-src-container">
<pre class="src src-text">$ tree2 -L 4 .config/nvim
.config/nvim
&#9500;&#9472;&#9472; init.vim
&#9500;&#9472;&#9472; pack
&#9474;&#160;&#160; &#9492;&#9472;&#9472; github
&#9474;&#160;&#160;     &#9500;&#9472;&#9472; opt
&#9474;&#160;&#160;     &#9492;&#9472;&#9472; start
&#9500;&#9472;&#9472; plugin
&#9492;&#9472;&#9472; undo

18 directories, 14 files
</pre>
</div>

<p>
其中pack文件夹下新建一个任意名字的文件夹，里面新建 <i>opt</i> 与 <i>start</i> 两个文件夹。
<code>pack/dir/start</code> 存放vim启动就要加载的插件（仓库），而 <code>pack/dir/opt</code> 存放的是
vim启动不自动加载的插件
</p>

<p>
undo文件夹是个人建立的，用于使用vim功能 <b>撤销（修改）记录永久化</b> ，即在退出vim
后仍然保存着修改的历史记录
</p>

<p>
plugin文件夹也用于存放配置文件，名称格式为 <code>任意前缀.vim</code> ，可以将配置文件分块存
储
</p>
</div>
</div>
<div id="outline-container-orgb2709aa" class="outline-4">
<h4 id="orgb2709aa"><span class="section-number-4">1.2.4.</span> 配置语法</h4>
<div class="outline-text-4" id="text-1-2-4">
</div>
<ol class="org-ol">
<li><a id="orga459be4"></a>映射<br />
<ol class="org-ol">
<li><a id="org60fc635"></a>command<br />
<div class="outline-text-6" id="text-1-2-4-1-1">
<p>
command的用法：
</p>

<div class="org-src-container">
<pre class="src src-vim">command mp MarkdownPreview
</pre>
</div>

<p>
在本例子中，mp被映射为 <code>MarkdownPreview</code> ，所以在普通模式中输入 <code>:</code> 后再输入
<code>mp</code> 就能够实现与输入 <code>MarkdownPreview</code> 同样的效果
</p>
</div>
</li>
<li><a id="org365d3c9"></a>noremap<br />
<div class="outline-text-6" id="text-1-2-4-1-2">
<p>
noremap的用法（狭义）：
</p>

<div class="org-src-container">
<pre class="src src-vim">noremap z &lt;Cmd&gt;bn&lt;CR&gt;
</pre>
</div>

<p>
在本例子中，倘若vim处于正常模式，键入 <code>z</code> 则会以命令行模式执行 <code>bn</code> 命令
</p>

<p>
其实它还可以这么表达：
</p>

<div class="org-src-container">
<pre class="src src-vim">noremap z :bn&lt;CR&gt;
</pre>
</div>

<p>
很明显，noremap的键位映射就是在按下那个按键后模拟用户的输入执行什么操作，即进入
命令行模式输入 <code>bn</code> 并回车，而不能够直接表达的字符则用 <code>&lt;&gt;</code> 表示
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">表示符号</th>
<th scope="col" class="org-left">实际含义</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">\&lt;C-\&gt;</td>
<td class="org-left">Ctrl + 按键</td>
</tr>

<tr>
<td class="org-left">\&lt;M-\&gt;</td>
<td class="org-left">Alt + 按键</td>
</tr>

<tr>
<td class="org-left">\&lt;Esc\&gt;</td>
<td class="org-left">Esc键</td>
</tr>

<tr>
<td class="org-left">\&lt;SPACE\&gt;</td>
<td class="org-left">回车</td>
</tr>

<tr>
<td class="org-left">\&lt;TAB\&gt;</td>
<td class="org-left">Tab键</td>
</tr>

<tr>
<td class="org-left">\&lt;Fn\&gt;</td>
<td class="org-left">Fn键，n为数字</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org095040d"></a>inoremap<br />
<div class="outline-text-6" id="text-1-2-4-1-3">
<p>
inoremap的用法同noremap，只不过使用的模式是插入模式。也就是说插入模式下也可以有
快捷键。如果想要输入原本的字符，就只需要等待一两秒即可。也就是说我们可以使用以下
代码实现简单的括号补全：
</p>

<div class="org-src-container">
<pre class="src src-vim">inoremap ' ''&lt;ESC&gt;i
inoremap " ""&lt;ESC&gt;i
inoremap ( ()&lt;ESC&gt;i
inoremap [ []&lt;ESC&gt;i
inoremap { {&lt;CR&gt;}&lt;ESC&gt;O
inoremap &lt; &lt;&gt;&lt;ESC&gt;i
"inoremap 「 「」&lt;ESC&gt;i
inoremap （ （）&lt;ESC&gt;i
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org5e247ae"></a>其他（十分有用的）功能<br />
<div class="outline-text-5" id="text-1-2-4-2">
<p>
实现文件退出后保存浏览进度：
</p>

<div class="org-src-container">
<pre class="src src-vim">au BufReadPost * if line("'\"") &gt; 1 &amp;&amp; line("'\"") &lt;= line("$") | exe "normal! g'\"" | endif
" 记忆文件上次打开位置
</pre>
</div>

<p>
实现fcitx输入法在退出插入模式时自动切换英文：
</p>

<div class="org-src-container">
<pre class="src src-vim">let s:fcitx_cmd = executable("fcitx5-remote") ? "fcitx5-remote" : "fcitx-remote"
autocmd InsertLeave * let b:fcitx = system(s:fcitx_cmd) | call system(s:fcitx_cmd.' -c')
autocmd InsertEnter * if exists('b:fcitx') &amp;&amp; b:fcitx == 2 | call system(s:fcitx_cmd.' -o') | endif
" 退出插入模式时自动切换到英文
</pre>
</div>

<p>
实现撤销记录持久化：
</p>

<div class="org-src-container">
<pre class="src src-vim">if has('persistent_undo') "check if your vim version supports it 
        set undofile "turn on the feature 
        set undodir=$HOME/.vim/undo "directory where the undo files will be stored 
endif
</pre>
</div>

<blockquote>
<p>
提示：里面的 <code>\$HOME/.vim/undo</code> 可以替换为任意你想要的 <b>目录</b> ，在neovim中我会将
其替换为 <b>\$HOME/.config/nvim/undo</b>
</p>
</blockquote>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org7f71802" class="outline-3">
<h3 id="org7f71802"><span class="section-number-3">1.3.</span> 我的配置</h3>
<div class="outline-text-3" id="text-1-3">
<p>
插件安装脚本：
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #75715E;">#</span><span style="color: #75715E;">&#19979;&#36733;Vim&#25554;&#20214;</span>
mkdir -p ~/.config/nvim/pack/github/start
mkdir -p ~/.config/nvim/pack/github/opt
mkdir -p ~/.config/nvim/undo
mkdir -p ~/.config/nvim/plugin
mkdir -p ~/.vim

<span style="color: #75715E;">#</span><span style="color: #75715E;">nerdtree&#30446;&#24405;&#26641;</span>
git clone https://github.com/preservim/nerdtree.git ~/.config/nvim/pack/github/start/nerdtree

<span style="color: #75715E;">#</span><span style="color: #75715E;">airline&#29366;&#24577;&#26639;</span>
git clone https://github.com/vim-airline/vim-airline.git ~/.config/nvim/pack/github/start/vim-airline

<span style="color: #75715E;">#</span><span style="color: #75715E;">space-vim-dark&#20027;&#39064;</span>
git clone https://github.com/liuchengxu/space-vim-dark.git ~/.config/nvim/pack/github/start/space-vim-dark

<span style="color: #75715E;">#</span><span style="color: #75715E;">vim-airline-theme&#29366;&#24577;&#26639;&#20027;&#39064;</span>
git clone https://github.com/vim-airline/vim-airline-themes.git ~/.config/nvim/pack/github/start/vim-airline-themes

<span style="color: #75715E;">#</span><span style="color: #75715E;">vim-which-key</span>
git clone https://github.com/liuchengxu/vim-which-key.git ~/.config/nvim/pack/github/start/im-which-key

<span style="color: #75715E;">#</span><span style="color: #75715E;">mathjax-support-for-mkdp</span>
git clone https://github.com:iamcco/mathjax-support-for-mkdp.git ~/.config/nvim/pack/github/start/mathjax-support-for-mkdp

<span style="color: #75715E;">#</span><span style="color: #75715E;">coc.nvim&#33258;&#21160;&#34917;&#20840;</span>
git clone https://github.com/neoclide/coc.nvim.git ~/.config/nvim/pack/github/start/coc.nvim

<span style="color: #75715E;">#</span><span style="color: #75715E;">emmet-vim</span>
git clone https://github.com/mattn/emmet-vim.git ~/.config/nvim/pack/github/start/emmet-vim

<span style="color: #75715E;">#</span><span style="color: #75715E;">markdown-preview.nvim&#39044;&#35272;markdown&#25991;&#20214;&#25554;&#20214;</span>
git clone https://github.com/iamcco/markdown-preview.nvim.git ~/.config/nvim/pack/github/start/markdown-preview.nvim

<span style="color: #75715E;">#</span><span style="color: #75715E;">vim-table-mode&#32534;&#36753;table&#26102;&#33258;&#21160;&#24555;&#36895;&#23545;&#40784;&#34920;&#26684;</span>
git clone https://github.com/dhruvasagar/vim-table-mode.git ~/.config/nvim/pack/github/start/vim-table-mode

<span style="color: #75715E;">#</span><span style="color: #75715E;">auto-pairs&#25104;&#21452;&#25104;&#23545;&#65292;&#22312;vim&#20013;&#33258;&#21160;&#34917;&#20840;&#25324;&#21495;&#31561;&#65292;&#20294;&#36825;&#37324;&#35774;&#32622;&#20026;&#40664;&#35748;&#19981;&#21152;&#36733;&#65292;&#23558;&#19979;&#38754;&#30340; opt &#25913;&#20026; start &#25110;&#32773;&#31227;&#21160; opt &#19979;&#30340;&#30446;&#24405;&#21040; start &#23601;&#22909;&#20102;</span>
git clone https://github.com/jiangmiao/auto-pairs.git ~/.config/nvim/pack/github/opt/auto-pairs

<span style="color: #75715E;">#</span><span style="color: #75715E;">nerdcommenter&#20195;&#30721;&#27880;&#37322;</span>
git clone https://github.com/preservim/nerdcommenter.git ~/.config/nvim/pack/github/start/nerdcommenter

<span style="color: #75715E;">#</span><span style="color: #75715E;">vim-mundo&#20195;&#30721;&#27880;&#37322;</span>
git clone https://github.com/simnalamburt/vim-mundo.git ~/.config/nvim/pack/github/opt/vim-mundo

ln -sf /home/$<span style="color: #FD971F;">USER</span>/.config/nvim/init.vim /home/$<span style="color: #FD971F;">USER</span>/.vim/vimrc
ln -sf /home/$<span style="color: #FD971F;">USER</span>/.config/nvim/pack /home/$<span style="color: #FD971F;">USER</span>/.vim/pack
ln -sf /home/$<span style="color: #FD971F;">USER</span>/.config/nvim/plugin /home/$<span style="color: #FD971F;">USER</span>/.vim/plugin
ln -sf /home/$<span style="color: #FD971F;">USER</span>/.config/nvim/undo /home/$<span style="color: #FD971F;">USER</span>/.vim/undo

<span style="color: #F92672;">cd</span> ~/.config/nvim/pack/github/start/markdown-preview.nvim/
yarn install
</pre>
</div>

<p>
<code>~/.config/nvim/init.vim</code> or <code>~/.vim/vimrc</code> or <code>~/.vimrc</code> 配置文件（主配置文件，
保存基本设置）：
</p>
<div class="org-src-container">
<pre class="src src-vim">" ==================================================
" 
" 基本设置
" 
" ==================================================
set nocompatible
" 关闭 vi 兼容模式
syntax on
" 自动语法高亮
set autochdir
" 自动切换当前目录为当前文件所在的目录
set autoread
" 打开文件监视。如果在编辑过程中文件发生外部改变(比如被别的编辑器编辑了)，就会发出提示
set scrolloff=3
" 设置光标距离顶部和底部的固定位置
set magic
" 设置魔术
set smartindent
" 开启新行时使用智能自动缩进
set noeb
set noexpandtab
" 不要用空格代替制表符
set backspace=indent,eol,start
set cmdheight=1
" 设定命令行的行数为 1
set nowrap
"不折行
set sidescroll=1
"流畅扩展

filetype on
"检测文件类型
filetype plugin indent on
" 开启插件

" TAB
" ==================================================
set shiftwidth=8
" 设定 &lt;&lt; 和 &gt;&gt; 命令移动时的宽度为 8
set softtabstop=8
" 使得按退格键时可以一次删掉 8 个空格
set tabstop=8
" 设定 tab 长度为 8

" 行号
" ==================================================
" set number
set nu
" 显示行号
set rnu
" 显示相对行号

" 搜索
" ==================================================
set ignorecase smartcase
" 搜索时忽略大小写，但在有一个或以上大写字母时仍保持对大小写敏感
set incsearch
" 输入搜索内容时就显示搜索结果

" 状态栏
" ==================================================
set ruler
" 打开状态栏标尺
set laststatus=1
" 显示状态栏 (默认值为 1, 无法显示状态栏)
set statusline=%F%m%r%h%w\ [FORMAT=%{&amp;ff}]\ [TYPE=%Y]\ [POS=%l,%v][%p%%]\ %{strftime(\"%d/%m/%y\ -\ %H:%M\")}
set statusline=[%F]%y%r%m%*%=[Line:%l/%L,Column:%c][%p%%]
" 设置在状态行显示的信息

" 临时文件
" ==================================================
set noswapfile
" 禁止生成临时文件
set nobackup
" 覆盖文件时不备份
set backupcopy=yes
" 设置备份时的行为为覆盖
set hidden
" 允许在有未保存的修改时切换缓冲区，此时的修改由 vim 负责保存

" ==================================================
"
" 功能脚本
"
" ==================================================
au BufReadPost * if line("'\"") &gt; 1 &amp;&amp; line("'\"") &lt;= line("$") | exe "normal! g'\"" | endif
" 记忆文件上次打开位置

let s:fcitx_cmd = executable("fcitx5-remote") ? "fcitx5-remote" : "fcitx-remote"
autocmd InsertLeave * let b:fcitx = system(s:fcitx_cmd) | call system(s:fcitx_cmd.' -c')
autocmd InsertEnter * if exists('b:fcitx') &amp;&amp; b:fcitx == 2 | call system(s:fcitx_cmd.' -o') | endif
" 退出插入模式时自动切换到英文

if has('persistent_undo') "check if your vim version supports it 
        set undofile "turn on the feature 
        set undodir=$HOME/.config/nvim/undo "directory where the undo files will be stored 
endif

" ==================================================
"
" 配置多语言环境
"
" ==================================================
if has("multi_byte")
" UTF-8 编码
set encoding=utf-8
set termencoding=utf-8
set formatoptions+=mM
set fencs=utf-8,gbk
if v:lang =~? '^\(zh\)\|\(ja\)\|\(ko\)'
set ambiwidth=double
endif
if has("win32")
source $VIMRUNTIME/delmenu.vim
source $VIMRUNTIME/menu.vim
language messages zh_CN.utf-8
endif
else
echoerr "Sorry, this version of (g)vim was not compiled with +multi_byte"
endif
</pre>
</div>

<p>
<code>plugin/keymap.vim</code> 配置文件（插件设置）：
</p>
<div class="org-src-container">
<pre class="src src-vim">" ==================================================
"
" 自定义快捷命令
"
" ==================================================
" 自定义命令(命令模式)
" ==================================================
command W w
command Q q
command WQ wq
command QW wq
command Wq wq
command Qw wq

" noremap(普通模式使用)
" ==================================================
noremap &lt;SPACE&gt;s :w&lt;CR&gt;
noremap &lt;SPACE&gt;q :wq&lt;CR&gt;
noremap &lt;SPACE&gt;Q :q!&lt;CR&gt;
autocmd Filetype markdown noremap &lt;SPACE&gt;pp :MarkdownPreview&lt;CR&gt;
autocmd Filetype markdown noremap &lt;SPACE&gt;pP :MarkdownPreviewStop&lt;CR&gt;
autocmd Filetype markdown noremap &lt;SPACE&gt;ptt :TableModeToggle&lt;CR&gt;
autocmd Filetype markdown noremap &lt;SPACE&gt;ptr :TableModeRealign&lt;CR&gt; 
autocmd Filetype markdown noremap &lt;F3&gt; &lt;Plug&gt;MarkdownPreview
" 开始预览
autocmd Filetype markdown noremap &lt;F4&gt; &lt;Plug&gt;MarkdownPreviewStop
" 关闭预览
"noremap &lt;C-[&gt; /&lt;++&gt;&lt;CR&gt;:nohlsearch&lt;CR&gt;c4l
noremap &lt;SPACE&gt;&lt;Tab&gt; &lt;Cmd&gt;bn&lt;CR&gt;
noremap &lt;Tab&gt; &lt;C-w&gt;w
autocmd Filetype c noremap &lt;F3&gt; &lt;Cmd&gt;chdir ../&lt;CR&gt;&lt;Cmd&gt;set noautochdir&lt;CR&gt;
autocmd Filetype c noremap &lt;F4&gt; &lt;Cmd&gt;!make;make clean&lt;CR&gt;
autocmd Filetype c noremap &lt;F5&gt; &lt;Cmd&gt;terminal bin/main&lt;CR&gt;

" inoremap(插入模式使用)
" ==================================================
inoremap ' ''&lt;ESC&gt;i
inoremap " ""&lt;ESC&gt;i
inoremap ( ()&lt;ESC&gt;i
inoremap [ []&lt;ESC&gt;i
inoremap { {&lt;CR&gt;}&lt;ESC&gt;O
inoremap &lt; &lt;&gt;&lt;ESC&gt;i
"inoremap 「 「」&lt;ESC&gt;i
inoremap （ （）&lt;ESC&gt;i
"补全
"inoremap &lt;C-[&gt; &lt;Esc&gt;/&lt;++&gt;&lt;CR&gt;:nohlsearch&lt;CR&gt;c4l

autocmd Filetype markdown inoremap &lt;F3&gt; &lt;Plug&gt;MarkdownPreview
" 开始预览
autocmd Filetype markdown inoremap &lt;F4&gt; &lt;Plug&gt;MarkdownPreviewStop
" 关闭预览
</pre>
</div>

<p>
<code>plugin/plugins.vim</code> 配置文件（插件设置）：
</p>
<div class="org-src-container">
<pre class="src src-vim">" ==================================================
"
" 插件设置
"
" ==================================================
" nerdtree
" ==================================================
let NERDTreeWinPos='left'
"设置在 vim 左侧显示
let NERDTreeWinSize=20
"设置宽度为 20
let g:NERDTreeDirArrowExpandable = '▸'
let g:NERDTreeDirArrowCollapsible = '▾'
" autocmd vimenter * NERDTree
wincmd w
autocmd VimEnter * wincmd w
autocmd StdinReadPre * let s:std_in=1
autocmd VimEnter * if argc() == 1 &amp;&amp; isdirectory(argv()[0]) &amp;&amp; !exists("s:std_in") | exe 'NERDTree' argv()[0] | wincmd p | ene | endif
autocmd StdinReadPre * let s:std_in=1
" autocmd VimEnter * if argc() == 0 &amp;&amp; !exists("s:std_in") | NERDTree | endif
autocmd bufenter * if (winnr("$") == 1 &amp;&amp; exists("b:NERDTree") &amp;&amp; b:NERDTree.isTabTree()) | q | endif
" 设置 F2 为打开或者关闭的快捷键
noremap &lt;F2&gt; :NERDTreeToggle&lt;CR&gt;
inoremap &lt;F2&gt; &lt;Cmd&gt;:NERDTreeToggle&lt;CR&gt;


" vim-airline
" ==================================================
set laststatus=2
let g:airline_theme="onedark"

"这个是安装字体后 必须设置此项" 
" let g:airline_powerline_fonts = 1

" 打开tabline功能,方便查看Buffer和切换,省去了minibufexpl插件
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#buffer_nr_show = 1

"设置切换Buffer快捷键"
noremap &lt;C-tab&gt; :bn&lt;CR&gt;
noremap &lt;C-s-tab&gt; :bp&lt;CR&gt;
" 关闭状态显示空白符号计数
let g:airline#extensions#whitespace#enabled = 0
let g:airline#extensions#whitespace#symbol = '!'
" 设置consolas字体"前面已经设置过
"set guifont=Consolas\ for\ Powerline\ FixedD:h11
if !exists('g:airline_symbols')
        let g:airline_symbols = {}
endif
" powerline symbols
" let g:airline_left_sep = ' '
" let g:airline_left_alt_sep = ' '
" let g:airline_right_sep = ' '
" let g:airline_right_alt_sep = ' '
" let g:airline_symbols.branch = ''
" let g:airline_symbols.colnr = ' :'
" let g:airline_symbols.readonly = ''
" let g:airline_symbols.linenr = ' :'
" let g:airline_symbols.maxlinenr = '☰ '
let g:airline_symbols.maxlinenr = 'ML '
" let g:airline_symbols.dirty='⚡'
" old vim-powerline symbols
" let g:airline_left_sep = '⮀'
" let g:airline_left_alt_sep = '⮁'
" let g:airline_right_sep = '⮂'
" let g:airline_right_alt_sep = '⮃'
" let g:airline_symbols.branch = '⭠'
" let g:airline_symbols.readonly = '⭤'


" vim-theams
" ==================================================
syntax enable
colorscheme space-vim-dark


" Markdown
" ==================================================
" nmap &lt;F3&gt; &lt;Plug&gt;MarkdownPreview        " 开始预览
" nmap &lt;F4&gt; &lt;Plug&gt;MarkdownPreviewStop    " 关闭预览
" nmap &lt;F5&gt; &lt;Plug&gt;MarkdownPreviewToggle  " 切换预览


" nerdcommenter
" ==================================================
" Create default mappings
let g:NERDCreateDefaultMappings = 1

" Add spaces after comment delimiters by default
let g:NERDSpaceDelims = 1

" Use compact syntax for prettified multi-line comments
let g:NERDCompactSexyComs = 1

" Align line-wise comment delimiters flush left instead of following code indentation
let g:NERDDefaultAlign = 'left'

" Set a language to use its alternate delimiters by default
let g:NERDAltDelims_java = 1

" Add your own custom formats or override the defaults
let g:NERDCustomDelimiters = { 'c': { 'left': '// ' } }
" let g:NERDCustomDelimiters = { 'c': { 'left': '/*','right': '*/' } }

" Allow commenting and inverting empty lines (useful when commenting a region)
let g:NERDCommentEmptyLines = 1

" Enable trimming of trailing whitespace when uncommenting
let g:NERDTrimTrailingWhitespace = 1

" Enable NERDCommenterToggle to check all selected lines is commented or not 
let g:NERDToggleCheckAllLines = 1
</pre>
</div>

<p>
<code>plugin/markdown-quick-input.vim</code> 配置文件（插件设置）：
</p>
<div class="org-src-container">
<pre class="src src-vim">" ==================================================
"
" 自定义markdown快捷输入命令
"
" ==================================================
" 查找标记点
" ==================================================
autocmd Filetype markdown inoremap =f &lt;Esc&gt;/&lt;++&gt;&lt;CR&gt;:nohlsearch&lt;CR&gt;c4l
autocmd Filetype markdown inoremap == &lt;Esc&gt;/&lt;++&gt;&lt;CR&gt;:nohlsearch&lt;CR&gt;c4l

" 一级标题
" ==================================================
autocmd Filetype markdown inoremap =1 &lt;Esc&gt;o#&lt;Space&gt;&lt;Enter&gt;&lt;Enter&gt;&lt;++&gt;&lt;Esc&gt;2kA

" 二级标题
" ==================================================
autocmd Filetype markdown inoremap =2 &lt;Esc&gt;o##&lt;Space&gt;&lt;Enter&gt;&lt;Enter&gt;&lt;++&gt;&lt;Esc&gt;2kA

" 三级标题
" ==================================================
autocmd Filetype markdown inoremap =3 &lt;Esc&gt;o###&lt;Space&gt;&lt;Enter&gt;&lt;Enter&gt;&lt;++&gt;&lt;Esc&gt;2kA

" 四级标题
" ==================================================
autocmd Filetype markdown inoremap =4 &lt;Esc&gt;o####&lt;Space&gt;&lt;Enter&gt;&lt;Enter&gt;&lt;++&gt;&lt;Esc&gt;2kA

" 五级标题
" ==================================================
autocmd Filetype markdown inoremap =5 &lt;Esc&gt;o#####&lt;Space&gt;&lt;Enter&gt;&lt;Enter&gt;&lt;++&gt;&lt;Esc&gt;2kA

" 六级标题
" ==================================================
autocmd Filetype markdown inoremap =6 &lt;Esc&gt;o######&lt;Space&gt;&lt;Enter&gt;&lt;Enter&gt;&lt;++&gt;&lt;Esc&gt;2kA

" 小点
" ==================================================
autocmd Filetype markdown inoremap =- &lt;Esc&gt;o-&lt;Space&gt;
autocmd Filetype markdown inoremap =. &lt;Esc&gt;o-&lt;Space&gt;

" 斜体文本
" ==================================================
autocmd Filetype markdown inoremap =i **&lt;++&gt;&lt;Esc&gt;F*i

" 粗体文本
" ==================================================
autocmd Filetype markdown inoremap =s ****&lt;++&gt;&lt;Esc&gt;F*hi

" 标注
" ==================================================
autocmd Filetype markdown inoremap =m ``&lt;++&gt;&lt;Esc&gt;F`i

" 粗斜体文本
" ==================================================
autocmd Filetype markdown inoremap =e ******&lt;++&gt;&lt;Esc&gt;F*hhi

" 下划线
" ==================================================
autocmd Filetype markdown inoremap =d &lt;Esc&gt;o~~~~&lt;++&gt;&lt;Esc&gt;F~hi

" 高亮
" ==================================================
autocmd Filetype markdown inoremap =h ====&lt;++&gt;&lt;Esc&gt;F=hi

" 插入图片
" ==================================================
autocmd Filetype markdown inoremap =p ![](&lt;++&gt;)&lt;++&gt;&lt;Esc&gt;F[a

" 插入链接
" ==================================================
autocmd Filetype markdown inoremap =a [](&lt;++&gt;)&lt;++&gt;&lt;Esc&gt;F[a

" 插入分隔线
" ==================================================
autocmd Filetype markdown inoremap =n &lt;Esc&gt;o---&lt;Enter&gt;&lt;Enter&gt;

" 插入代码块
" ==================================================
autocmd Filetype markdown inoremap =c &lt;Esc&gt;o```&lt;Enter&gt;&lt;++&gt;&lt;Enter&gt;```&lt;Enter&gt;&lt;Enter&gt;&lt;++&gt;&lt;Esc&gt;4kA

" 表格操作
" ==================================================
autocmd Filetype markdown inoremap =T &lt;Esc&gt;o\|\|&lt;++&gt;\|&lt;Enter&gt;\|:-:\|:-:\|&lt;Enter&gt;\|&lt;++&gt;\|&lt;++&gt;\|&lt;Esc&gt;2kI&lt;Esc&gt;li
autocmd Filetype markdown inoremap =t &lt;Esc&gt;o\|\|&lt;++&gt;\|&lt;Esc&gt;5hi
</pre>
</div>

<p>
<code>plugin/c-qi.vim</code> 配置文件（c语言快速补全）：
</p>
<div class="org-src-container">
<pre class="src src-vim">" ==================================================
"
" 自定义C语言命令
"
" ==================================================

" /*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/
" \/\*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;\*\/

autocmd Filetype c nnoremap ]] &lt;Esc&gt;/\/\*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;\*\/&lt;CR&gt;&lt;Cmd&gt;nohlsearch&lt;CR&gt;v9l&lt;C-g&gt;
autocmd Filetype c nnoremap ]= &lt;Esc&gt;/\/\*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;\*\/&lt;CR&gt;&lt;Cmd&gt;nohlsearch&lt;CR&gt;v9l&lt;C-g&gt;

autocmd Filetype cpp inoremap ]] &lt;Esc&gt;/\/\*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;\*\/&lt;CR&gt;&lt;Cmd&gt;nohlsearch&lt;CR&gt;v9l&lt;C-g&gt;
autocmd Filetype cpp inoremap ]= &lt;Esc&gt;/\/\*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;\*\/&lt;CR&gt;&lt;Cmd&gt;nohlsearch&lt;CR&gt;v9l&lt;C-g&gt;

" autocmd Filetype c inoremap ]

" 注释
autocmd Filetype c inoremap ]/ &lt;Esc&gt;A&lt;Space&gt;&lt;Space&gt;&lt;Space&gt;&lt;Space&gt;/*  */&lt;Esc&gt;3ha
autocmd Filetype c inoremap ]. &lt;Esc&gt;O/*  */&lt;Esc&gt;3ha
autocmd Filetype cpp inoremap ]/ &lt;Esc&gt;A&lt;Space&gt;&lt;Space&gt;&lt;Space&gt;&lt;Space&gt;/*  */&lt;Esc&gt;3ha
autocmd Filetype cpp inoremap ]. &lt;Esc&gt;O/*  */&lt;Esc&gt;3ha

" if
autocmd Filetype c inoremap ]i &lt;Esc&gt;oif&lt;Space&gt;(1&lt;Esc&gt;m1a)&lt;Space&gt;{&lt;Esc&gt;o/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;}&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Esc&gt;`1v&lt;C-g&gt;
" else if
autocmd Filetype c inoremap ]ei &lt;Esc&gt;/}&lt;CR&gt;:nohlsearch&lt;CR&gt;A else&lt;Space&gt;if&lt;Space&gt;(1&lt;Esc&gt;m1a)&lt;Space&gt;{&lt;Esc&gt;o/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;}&lt;Esc&gt;`1v&lt;C-g&gt;
" else
autocmd Filetype c inoremap ]ee &lt;Esc&gt;/}&lt;CR&gt;:nohlsearch&lt;CR&gt;A else&lt;Space&gt;{&lt;Esc&gt;o/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Esc&gt;m1a&lt;Enter&gt;}&lt;Esc&gt;`1v9h&lt;C-g&gt;

" switch
autocmd Filetype c inoremap ]ss &lt;Esc&gt;oswitch&lt;Space&gt;(1&lt;Esc&gt;m1a)&lt;Space&gt;{&lt;Enter&gt;&lt;Backspace&gt;case&lt;Space&gt;1:&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;break;&lt;Enter&gt;default:&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;break;&lt;Enter&gt;}&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Esc&gt;`1v&lt;C-g&gt;
autocmd Filetype c inoremap ]sc &lt;Esc&gt;/break;&lt;CR&gt;&lt;Cmd&gt;nohlsearch&lt;CR&gt;ocase&lt;Space&gt;1&lt;Esc&gt;m1a:&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;break;&lt;Esc&gt;`1hv&lt;C-g&gt;

" while
autocmd Filetype c inoremap ]w &lt;Esc&gt;owhile&lt;Space&gt;(1&lt;Esc&gt;m1a)&lt;Space&gt;{&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;}&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Esc&gt;`1v&lt;C-g&gt;

" for
autocmd Filetype c inoremap ]f &lt;Esc&gt;ofor&lt;Space&gt;(int&lt;Space&gt;i&lt;Esc&gt;m1a;&lt;Space&gt;i&lt;Space&gt;&lt;&lt;Space&gt;1/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/;&lt;Space&gt;i++)&lt;Space&gt;{&lt;Esc&gt;o/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;}&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Esc&gt;`1v&lt;C-g&gt;

" struct
autocmd Filetype c inoremap ]t &lt;Esc&gt;ostruct&lt;Space&gt;/&lt;Esc&gt;m1a*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Space&gt;{&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Space&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/;&lt;Enter&gt;&lt;Backspace&gt;}/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/;&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Esc&gt;`1v9l&lt;C-g&gt;
autocmd Filetype cpp inoremap ]t &lt;Esc&gt;ostruct&lt;Space&gt;/&lt;Esc&gt;m1a*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Space&gt;{&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Space&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/;&lt;Enter&gt;&lt;Backspace&gt;}/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/;&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Esc&gt;`1v9l&lt;C-g&gt;

" functon
autocmd Filetype c inoremap ]mm &lt;Esc&gt;o/&lt;Esc&gt;m1a*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Space&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/(/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/)&lt;Enter&gt;{&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;return&lt;Space&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/;&lt;Enter&gt;}&lt;Enter&gt;&lt;Esc&gt;`1v9l&lt;C-g&gt;
autocmd Filetype c inoremap ]mn &lt;Esc&gt;/^}&lt;CR&gt;&lt;Cmd&gt;nohlsearch&lt;CR&gt;o&lt;Enter&gt;/&lt;Esc&gt;m1a*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Space&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/(/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/)&lt;Enter&gt;{&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;return&lt;Space&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/;&lt;Enter&gt;&lt;Backspace&gt;}&lt;Enter&gt;&lt;Esc&gt;`1v9l&lt;C-g&gt;
autocmd Filetype c inoremap ]ms &lt;Esc&gt;/^}&lt;CR&gt;&lt;Cmd&gt;nohlsearch&lt;CR&gt;o&lt;Enter&gt;static&lt;Space&gt;/&lt;Esc&gt;m1a*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Space&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/(/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/)&lt;Enter&gt;{&lt;Enter&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/&lt;Enter&gt;return&lt;Space&gt;/*&lt;Space&gt;&lt;++&gt;&lt;Space&gt;*/;&lt;Enter&gt;&lt;Backspace&gt;}&lt;Enter&gt;&lt;Esc&gt;`1v9l&lt;C-g&gt;
autocmd Filetype c inoremap ]mi &lt;Esc&gt;$m1&lt;Esc&gt;?)\n{&lt;CR&gt;yyG?^#include&lt;CR&gt;&lt;Cmd&gt;nohlsearch&lt;CR&gt;o&lt;ESC&gt;pA;&lt;Esc&gt;`1
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-07-08 22:57</p>
<p class="author">Author: 不要在意我的头像QwQ</p>
<p class="date">Created: 2025-01-23 四 11:38</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
